/*!
 * phaser-spine - version 4.0.0-alpha1 
 * Spine plugin for Phaser.io!
 *
 * OrangeGames
 * Build at 12-09-2018
 * Released under MIT License 
 */

var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),spine;!function(a){var b=function(){function a(a){this._image=a}return a.prototype.getImage=function(){return this._image},a.filterFromString=function(a){switch(a.toLowerCase()){case"nearest":return c.Nearest;case"linear":return c.Linear;case"mipmap":return c.MipMap;case"mipmapnearestnearest":return c.MipMapNearestNearest;case"mipmaplinearnearest":return c.MipMapLinearNearest;case"mipmapnearestlinear":return c.MipMapNearestLinear;case"mipmaplinearlinear":return c.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+a)}},a.wrapFromString=function(a){switch(a.toLowerCase()){case"mirroredtepeat":return d.MirroredRepeat;case"clamptoedge":return d.ClampToEdge;case"repeat":return d.Repeat;default:throw new Error("Unknown texture wrap "+a)}},a}();a.Texture=b;var c;!function(a){a[a.Nearest=9728]="Nearest",a[a.Linear=9729]="Linear",a[a.MipMap=9987]="MipMap",a[a.MipMapNearestNearest=9984]="MipMapNearestNearest",a[a.MipMapLinearNearest=9985]="MipMapLinearNearest",a[a.MipMapNearestLinear=9986]="MipMapNearestLinear",a[a.MipMapLinearLinear=9987]="MipMapLinearLinear"}(c=a.TextureFilter||(a.TextureFilter={}));var d;!function(a){a[a.MirroredRepeat=33648]="MirroredRepeat",a[a.ClampToEdge=33071]="ClampToEdge",a[a.Repeat=10497]="Repeat"}(d=a.TextureWrap||(a.TextureWrap={}));var e=function(){function a(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return a}();a.TextureRegion=e;var f=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.prototype.setFilters=function(a,b){},b.prototype.setWraps=function(a,b){},b.prototype.dispose=function(){},b}(a.Texture);a.FakeTexture=f}(spine||(spine={}));var PhaserSpine;!function(a){var b;!function(a){var b=function(a){function b(b){return a.call(this,b)||this}return __extends(b,a),b.prototype.setFilters=function(a,b){},b.prototype.setWraps=function(a,b){},b.prototype.dispose=function(){},b}(spine.Texture);a.Texture=b}(b=a.canvas||(a.canvas={}))}(PhaserSpine||(PhaserSpine={}));var spine;!function(a){var b=function(){function a(a,b,c){if(null==a)throw new Error("name cannot be null.");if(null==b)throw new Error("timelines cannot be null.");this.name=a,this.timelines=b,this.duration=c}return a.prototype.apply=function(a,b,c,d,e,f,g,h){if(null==a)throw new Error("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,b>0&&(b%=this.duration));for(var i=this.timelines,j=0,k=i.length;j<k;j++)i[j].apply(a,b,c,e,f,g,h)},a.binarySearch=function(a,b,c){void 0===c&&(c=1);var d=0,e=a.length/c-2;if(0==e)return c;for(var f=e>>>1;;){if(a[(f+1)*c]<=b?d=f+1:e=f,d==e)return(d+1)*c;f=d+e>>>1}},a.linearSearch=function(a,b,c){for(var d=0,e=a.length-c;d<=e;d+=c)if(a[d]>b)return d;return-1},a}();a.Animation=b;var c;!function(a){a[a.setup=0]="setup",a[a.current=1]="current",a[a.currentLayered=2]="currentLayered"}(c=a.MixPose||(a.MixPose={}));var d;!function(a){a[a.in=0]="in",a[a.out=1]="out"}(d=a.MixDirection||(a.MixDirection={}));var e;!function(a){a[a.rotate=0]="rotate",a[a.translate=1]="translate",a[a.scale=2]="scale",a[a.shear=3]="shear",a[a.attachment=4]="attachment",a[a.color=5]="color",a[a.deform=6]="deform",a[a.event=7]="event",a[a.drawOrder=8]="drawOrder",a[a.ikConstraint=9]="ikConstraint",a[a.transformConstraint=10]="transformConstraint",a[a.pathConstraintPosition=11]="pathConstraintPosition",a[a.pathConstraintSpacing=12]="pathConstraintSpacing",a[a.pathConstraintMix=13]="pathConstraintMix",a[a.twoColor=14]="twoColor"}(e=a.TimelineType||(a.TimelineType={}));var f=function(){function b(c){if(c<=0)throw new Error("frameCount must be > 0: "+c);this.curves=a.Utils.newFloatArray((c-1)*b.BEZIER_SIZE)}return b.prototype.getFrameCount=function(){return this.curves.length/b.BEZIER_SIZE+1},b.prototype.setLinear=function(a){this.curves[a*b.BEZIER_SIZE]=b.LINEAR},b.prototype.setStepped=function(a){this.curves[a*b.BEZIER_SIZE]=b.STEPPED},b.prototype.getCurveType=function(a){var c=a*b.BEZIER_SIZE;if(c==this.curves.length)return b.LINEAR;var d=this.curves[c];return d==b.LINEAR?b.LINEAR:d==b.STEPPED?b.STEPPED:b.BEZIER},b.prototype.setCurve=function(a,c,d,e,f){var g=.03*(2*-c+e),h=.03*(2*-d+f),i=.006*(3*(c-e)+1),j=.006*(3*(d-f)+1),k=2*g+i,l=2*h+j,m=.3*c+g+.16666667*i,n=.3*d+h+.16666667*j,o=a*b.BEZIER_SIZE,p=this.curves;p[o++]=b.BEZIER;for(var q=m,r=n,s=o+b.BEZIER_SIZE-1;o<s;o+=2)p[o]=q,p[o+1]=r,m+=k,n+=l,k+=i,l+=j,q+=m,r+=n},b.prototype.getCurvePercent=function(c,d){d=a.MathUtils.clamp(d,0,1);var e=this.curves,f=c*b.BEZIER_SIZE,g=e[f];if(g==b.LINEAR)return d;if(g==b.STEPPED)return 0;f++;for(var h=0,i=f,j=f+b.BEZIER_SIZE-1;f<j;f+=2)if(h=e[f],h>=d){var k=void 0,l=void 0;return f==i?(k=0,l=0):(k=e[f-2],l=e[f-1]),l+(e[f+1]-l)*(d-k)/(h-k)}var m=e[f-1];return m+(1-m)*(d-h)/(1-h)},b.LINEAR=0,b.STEPPED=1,b.BEZIER=2,b.BEZIER_SIZE=19,b}();a.CurveTimeline=f;var g=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b<<1),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.rotate<<24)+this.boneIndex},f.prototype.setFrame=function(a,b,c){a<<=1,this.frames[a]=b,this.frames[a+f.ROTATION]=c},f.prototype.apply=function(a,d,e,g,h,i,j){var k=this.frames,l=a.bones[this.boneIndex];if(e<k[0])switch(i){case c.setup:return void(l.rotation=l.data.rotation);case c.current:var m=l.data.rotation-l.rotation;m-=360*(16384-(16384.499999999996-m/360|0)),l.rotation+=m*h}else if(e>=k[k.length-f.ENTRIES])if(i==c.setup)l.rotation=l.data.rotation+k[k.length+f.PREV_ROTATION]*h;else{var n=l.data.rotation+k[k.length+f.PREV_ROTATION]-l.rotation;n-=360*(16384-(16384.499999999996-n/360|0)),l.rotation+=n*h}else{var o=b.binarySearch(k,e,f.ENTRIES),p=k[o+f.PREV_ROTATION],q=k[o],r=this.getCurvePercent((o>>1)-1,1-(e-q)/(k[o+f.PREV_TIME]-q)),s=k[o+f.ROTATION]-p;s-=360*(16384-(16384.499999999996-s/360|0)),s=p+s*r,i==c.setup?(s-=360*(16384-(16384.499999999996-s/360|0)),l.rotation=l.data.rotation+s*h):(s=l.data.rotation+s-l.rotation,s-=360*(16384-(16384.499999999996-s/360|0)),l.rotation+=s*h)}},f.ENTRIES=2,f.PREV_TIME=-2,f.PREV_ROTATION=-1,f.ROTATION=1,f}(f);a.RotateTimeline=g;var h=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.translate<<24)+this.boneIndex},f.prototype.setFrame=function(a,b,c,d){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.X]=c,this.frames[a+f.Y]=d},f.prototype.apply=function(a,d,e,g,h,i,j){var k=this.frames,l=a.bones[this.boneIndex];if(e<k[0])switch(i){case c.setup:return l.x=l.data.x,void(l.y=l.data.y);case c.current:l.x+=(l.data.x-l.x)*h,l.y+=(l.data.y-l.y)*h}else{var m=0,n=0;if(e>=k[k.length-f.ENTRIES])m=k[k.length+f.PREV_X],n=k[k.length+f.PREV_Y];else{var o=b.binarySearch(k,e,f.ENTRIES);m=k[o+f.PREV_X],n=k[o+f.PREV_Y];var p=k[o],q=this.getCurvePercent(o/f.ENTRIES-1,1-(e-p)/(k[o+f.PREV_TIME]-p));m+=(k[o+f.X]-m)*q,n+=(k[o+f.Y]-n)*q}i==c.setup?(l.x=l.data.x+m*h,l.y=l.data.y+n*h):(l.x+=(l.data.x+m-l.x)*h,l.y+=(l.data.y+n-l.y)*h)}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,f}(f);a.TranslateTimeline=h;var i=function(f){function g(a){return f.call(this,a)||this}return __extends(g,f),g.prototype.getPropertyId=function(){return(e.scale<<24)+this.boneIndex},g.prototype.apply=function(e,f,h,i,j,k,l){var m=this.frames,n=e.bones[this.boneIndex];if(h<m[0])switch(k){case c.setup:return n.scaleX=n.data.scaleX,void(n.scaleY=n.data.scaleY);case c.current:n.scaleX+=(n.data.scaleX-n.scaleX)*j,n.scaleY+=(n.data.scaleY-n.scaleY)*j}else{var o=0,p=0;if(h>=m[m.length-g.ENTRIES])o=m[m.length+g.PREV_X]*n.data.scaleX,p=m[m.length+g.PREV_Y]*n.data.scaleY;else{var q=b.binarySearch(m,h,g.ENTRIES);o=m[q+g.PREV_X],p=m[q+g.PREV_Y];var r=m[q],s=this.getCurvePercent(q/g.ENTRIES-1,1-(h-r)/(m[q+g.PREV_TIME]-r));o=(o+(m[q+g.X]-o)*s)*n.data.scaleX,p=(p+(m[q+g.Y]-p)*s)*n.data.scaleY}if(1==j)n.scaleX=o,n.scaleY=p;else{var t=0,u=0;k==c.setup?(t=n.data.scaleX,u=n.data.scaleY):(t=n.scaleX,u=n.scaleY),l==d.out?(o=Math.abs(o)*a.MathUtils.signum(t),p=Math.abs(p)*a.MathUtils.signum(u)):(t=Math.abs(t)*a.MathUtils.signum(o),u=Math.abs(u)*a.MathUtils.signum(p)),n.scaleX=t+(o-t)*j,n.scaleY=u+(p-u)*j}}},g}(h);a.ScaleTimeline=i;var j=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(e.shear<<24)+this.boneIndex},d.prototype.apply=function(a,e,f,g,h,i,j){var k=this.frames,l=a.bones[this.boneIndex];if(f<k[0])switch(i){case c.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case c.current:l.shearX+=(l.data.shearX-l.shearX)*h,l.shearY+=(l.data.shearY-l.shearY)*h}else{var m=0,n=0;if(f>=k[k.length-d.ENTRIES])m=k[k.length+d.PREV_X],n=k[k.length+d.PREV_Y];else{var o=b.binarySearch(k,f,d.ENTRIES);m=k[o+d.PREV_X],n=k[o+d.PREV_Y];var p=k[o],q=this.getCurvePercent(o/d.ENTRIES-1,1-(f-p)/(k[o+d.PREV_TIME]-p));m+=(k[o+d.X]-m)*q,n+=(k[o+d.Y]-n)*q}i==c.setup?(l.shearX=l.data.shearX+m*h,l.shearY=l.data.shearY+n*h):(l.shearX+=(l.data.shearX+m-l.shearX)*h,l.shearY+=(l.data.shearY+n-l.shearY)*h)}},d}(h);a.ShearTimeline=j;var k=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.color<<24)+this.slotIndex},f.prototype.setFrame=function(a,b,c,d,e,g){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.R]=c,this.frames[a+f.G]=d,this.frames[a+f.B]=e,this.frames[a+f.A]=g},f.prototype.apply=function(a,d,e,g,h,i,j){var k=a.slots[this.slotIndex],l=this.frames;if(e<l[0])switch(i){case c.setup:return void k.color.setFromColor(k.data.color);case c.current:var m=k.color,n=k.data.color;m.add((n.r-m.r)*h,(n.g-m.g)*h,(n.b-m.b)*h,(n.a-m.a)*h)}else{var o=0,p=0,q=0,r=0;if(e>=l[l.length-f.ENTRIES]){var s=l.length;o=l[s+f.PREV_R],p=l[s+f.PREV_G],q=l[s+f.PREV_B],r=l[s+f.PREV_A]}else{var t=b.binarySearch(l,e,f.ENTRIES);o=l[t+f.PREV_R],p=l[t+f.PREV_G],q=l[t+f.PREV_B],r=l[t+f.PREV_A];var u=l[t],v=this.getCurvePercent(t/f.ENTRIES-1,1-(e-u)/(l[t+f.PREV_TIME]-u));o+=(l[t+f.R]-o)*v,p+=(l[t+f.G]-p)*v,q+=(l[t+f.B]-q)*v,r+=(l[t+f.A]-r)*v}if(1==h)k.color.set(o,p,q,r);else{var m=k.color;i==c.setup&&m.setFromColor(k.data.color),m.add((o-m.r)*h,(p-m.g)*h,(q-m.b)*h,(r-m.a)*h)}}},f.ENTRIES=5,f.PREV_TIME=-5,f.PREV_R=-4,f.PREV_G=-3,f.PREV_B=-2,f.PREV_A=-1,f.R=1,f.G=2,f.B=3,f.A=4,f}(f);a.ColorTimeline=k;var l=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.twoColor<<24)+this.slotIndex},f.prototype.setFrame=function(a,b,c,d,e,g,h,i,j){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.R]=c,this.frames[a+f.G]=d,this.frames[a+f.B]=e,this.frames[a+f.A]=g,this.frames[a+f.R2]=h,this.frames[a+f.G2]=i,this.frames[a+f.B2]=j},f.prototype.apply=function(a,d,e,g,h,i,j){var k=a.slots[this.slotIndex],l=this.frames;if(e<l[0])switch(i){case c.setup:return k.color.setFromColor(k.data.color),void k.darkColor.setFromColor(k.data.darkColor);case c.current:var m=k.color,n=k.darkColor,o=k.data.color,p=k.data.darkColor;m.add((o.r-m.r)*h,(o.g-m.g)*h,(o.b-m.b)*h,(o.a-m.a)*h),n.add((p.r-n.r)*h,(p.g-n.g)*h,(p.b-n.b)*h,0)}else{var q=0,r=0,s=0,t=0,u=0,v=0,w=0;if(e>=l[l.length-f.ENTRIES]){var x=l.length;q=l[x+f.PREV_R],r=l[x+f.PREV_G],s=l[x+f.PREV_B],t=l[x+f.PREV_A],u=l[x+f.PREV_R2],v=l[x+f.PREV_G2],w=l[x+f.PREV_B2]}else{var y=b.binarySearch(l,e,f.ENTRIES);q=l[y+f.PREV_R],r=l[y+f.PREV_G],s=l[y+f.PREV_B],t=l[y+f.PREV_A],u=l[y+f.PREV_R2],v=l[y+f.PREV_G2],w=l[y+f.PREV_B2];var z=l[y],A=this.getCurvePercent(y/f.ENTRIES-1,1-(e-z)/(l[y+f.PREV_TIME]-z));q+=(l[y+f.R]-q)*A,r+=(l[y+f.G]-r)*A,s+=(l[y+f.B]-s)*A,t+=(l[y+f.A]-t)*A,u+=(l[y+f.R2]-u)*A,v+=(l[y+f.G2]-v)*A,w+=(l[y+f.B2]-w)*A}if(1==h)k.color.set(q,r,s,t),k.darkColor.set(u,v,w,1);else{var m=k.color,n=k.darkColor;i==c.setup&&(m.setFromColor(k.data.color),n.setFromColor(k.data.darkColor)),m.add((q-m.r)*h,(r-m.g)*h,(s-m.b)*h,(t-m.a)*h),n.add((u-n.r)*h,(v-n.g)*h,(w-n.b)*h,0)}}},f.ENTRIES=8,f.PREV_TIME=-8,f.PREV_R=-7,f.PREV_G=-6,f.PREV_B=-5,f.PREV_A=-4,f.PREV_R2=-3,f.PREV_G2=-2,f.PREV_B2=-1,f.R=1,f.G=2,f.B=3,f.A=4,f.R2=5,f.G2=6,f.B2=7,f}(f);a.TwoColorTimeline=l;var m=function(){function f(b){this.frames=a.Utils.newFloatArray(b),this.attachmentNames=new Array(b)}return f.prototype.getPropertyId=function(){return(e.attachment<<24)+this.slotIndex},f.prototype.getFrameCount=function(){return this.frames.length},f.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.attachmentNames[a]=c},f.prototype.apply=function(a,e,f,g,h,i,j){var k=a.slots[this.slotIndex];if(j==d.out&&i==c.setup){var l=k.data.attachmentName;return void k.setAttachment(null==l?null:a.getAttachment(this.slotIndex,l))}var m=this.frames;if(f<m[0]){if(i==c.setup){var n=k.data.attachmentName;k.setAttachment(null==n?null:a.getAttachment(this.slotIndex,n))}}else{var o=0;o=f>=m[m.length-1]?m.length-1:b.binarySearch(m,f,1)-1;var p=this.attachmentNames[o];a.slots[this.slotIndex].setAttachment(null==p?null:a.getAttachment(this.slotIndex,p))}},f}();a.AttachmentTimeline=m;var n=null,o=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b),c.frameVertices=new Array(b),null==n&&(n=a.Utils.newFloatArray(64)),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.deform<<27)+ +this.attachment.id+this.slotIndex},f.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.frameVertices[a]=c},f.prototype.apply=function(d,e,f,g,h,i,j){var k=d.slots[this.slotIndex],l=k.getAttachment();if(l instanceof a.VertexAttachment&&l.applyDeform(this.attachment)){var m=k.attachmentVertices;0==m.length&&(h=1);var n=this.frameVertices,o=n[0].length,p=this.frames;if(f<p[0]){var q=l;switch(i){case c.setup:return void(m.length=0);case c.current:if(1==h){m.length=0;break}var r=a.Utils.setArraySize(m,o);if(null==q.bones)for(var s=q.vertices,t=0;t<o;t++)r[t]+=(s[t]-r[t])*h;else{h=1-h;for(var t=0;t<o;t++)r[t]*=h}}}else{var u=a.Utils.setArraySize(m,o);if(f>=p[p.length-1]){var v=n[p.length-1];if(1==h)a.Utils.arrayCopy(v,0,u,0,o);else if(i==c.setup){var q=l;if(null==q.bones)for(var w=q.vertices,x=0;x<o;x++){var y=w[x];u[x]=y+(v[x]-y)*h}else for(var z=0;z<o;z++)u[z]=v[z]*h}else for(var A=0;A<o;A++)u[A]+=(v[A]-u[A])*h}else{var B=b.binarySearch(p,f),C=n[B-1],D=n[B],E=p[B],F=this.getCurvePercent(B-1,1-(f-E)/(p[B-1]-E));if(1==h)for(var G=0;G<o;G++){var H=C[G];u[G]=H+(D[G]-H)*F}else if(i==c.setup){var q=l;if(null==q.bones)for(var I=q.vertices,J=0;J<o;J++){var H=C[J],y=I[J];u[J]=y+(H+(D[J]-H)*F-y)*h}else for(var K=0;K<o;K++){var H=C[K];u[K]=(H+(D[K]-H)*F)*h}}else for(var L=0;L<o;L++){var H=C[L];u[L]+=(H+(D[L]-H)*F-u[L])*h}}}}},f}(f);a.DeformTimeline=o;var p=function(){function c(b){this.frames=a.Utils.newFloatArray(b),this.events=new Array(b)}return c.prototype.getPropertyId=function(){return e.event<<24},c.prototype.getFrameCount=function(){return this.frames.length},c.prototype.setFrame=function(a,b){this.frames[a]=b.time,this.events[a]=b},c.prototype.apply=function(a,c,d,e,f,g,h){if(null!=e){var i=this.frames,j=this.frames.length;if(c>d)this.apply(a,c,Number.MAX_VALUE,e,f,g,h),c=-1;else if(c>=i[j-1])return;if(!(d<i[0])){var k=0;if(c<i[0])k=0;else{k=b.binarySearch(i,c);for(var l=i[k];k>0&&i[k-1]==l;)k--}for(;k<j&&d>=i[k];k++)e.push(this.events[k])}}},c}();a.EventTimeline=p;var q=function(){function f(b){this.frames=a.Utils.newFloatArray(b),this.drawOrders=new Array(b)}return f.prototype.getPropertyId=function(){return e.drawOrder<<24},f.prototype.getFrameCount=function(){return this.frames.length},f.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.drawOrders[a]=c},f.prototype.apply=function(e,f,g,h,i,j,k){var l=e.drawOrder,m=e.slots;if(k==d.out&&j==c.setup)return void a.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);var n=this.frames;if(g<n[0])return void(j==c.setup&&a.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length));var o=0;o=g>=n[n.length-1]?n.length-1:b.binarySearch(n,g)-1;var p=this.drawOrders[o];if(null==p)a.Utils.arrayCopy(m,0,l,0,m.length);else for(var q=0,r=p.length;q<r;q++)l[q]=m[p[q]]},f}();a.DrawOrderTimeline=q;var r=function(f){function g(b){var c=f.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*g.ENTRIES),c}return __extends(g,f),g.prototype.getPropertyId=function(){return(e.ikConstraint<<24)+this.ikConstraintIndex},g.prototype.setFrame=function(a,b,c,d){a*=g.ENTRIES,this.frames[a]=b,this.frames[a+g.MIX]=c,this.frames[a+g.BEND_DIRECTION]=d},g.prototype.apply=function(a,e,f,h,i,j,k){var l=this.frames,m=a.ikConstraints[this.ikConstraintIndex];if(f<l[0])switch(j){case c.setup:return m.mix=m.data.mix,void(m.bendDirection=m.data.bendDirection);case c.current:m.mix+=(m.data.mix-m.mix)*i,m.bendDirection=m.data.bendDirection}else{if(f>=l[l.length-g.ENTRIES])return void(j==c.setup?(m.mix=m.data.mix+(l[l.length+g.PREV_MIX]-m.data.mix)*i,m.bendDirection=k==d.out?m.data.bendDirection:l[l.length+g.PREV_BEND_DIRECTION]):(m.mix+=(l[l.length+g.PREV_MIX]-m.mix)*i,k==d.in&&(m.bendDirection=l[l.length+g.PREV_BEND_DIRECTION])));var n=b.binarySearch(l,f,g.ENTRIES),o=l[n+g.PREV_MIX],p=l[n],q=this.getCurvePercent(n/g.ENTRIES-1,1-(f-p)/(l[n+g.PREV_TIME]-p));j==c.setup?(m.mix=m.data.mix+(o+(l[n+g.MIX]-o)*q-m.data.mix)*i,m.bendDirection=k==d.out?m.data.bendDirection:l[n+g.PREV_BEND_DIRECTION]):(m.mix+=(o+(l[n+g.MIX]-o)*q-m.mix)*i,k==d.in&&(m.bendDirection=l[n+g.PREV_BEND_DIRECTION]))}},g.ENTRIES=3,g.PREV_TIME=-3,g.PREV_MIX=-2,g.PREV_BEND_DIRECTION=-1,g.MIX=1,g.BEND_DIRECTION=2,g}(f);a.IkConstraintTimeline=r;var s=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.transformConstraint<<24)+this.transformConstraintIndex},f.prototype.setFrame=function(a,b,c,d,e,g){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.ROTATE]=c,this.frames[a+f.TRANSLATE]=d,this.frames[a+f.SCALE]=e,this.frames[a+f.SHEAR]=g},f.prototype.apply=function(a,d,e,g,h,i,j){var k=this.frames,l=a.transformConstraints[this.transformConstraintIndex];if(e<k[0]){var m=l.data;switch(i){case c.setup:return l.rotateMix=m.rotateMix,l.translateMix=m.translateMix,l.scaleMix=m.scaleMix,void(l.shearMix=m.shearMix);case c.current:l.rotateMix+=(m.rotateMix-l.rotateMix)*h,l.translateMix+=(m.translateMix-l.translateMix)*h,l.scaleMix+=(m.scaleMix-l.scaleMix)*h,l.shearMix+=(m.shearMix-l.shearMix)*h}}else{var n=0,o=0,p=0,q=0;if(e>=k[k.length-f.ENTRIES]){var r=k.length;n=k[r+f.PREV_ROTATE],o=k[r+f.PREV_TRANSLATE],p=k[r+f.PREV_SCALE],q=k[r+f.PREV_SHEAR]}else{var s=b.binarySearch(k,e,f.ENTRIES);n=k[s+f.PREV_ROTATE],o=k[s+f.PREV_TRANSLATE],p=k[s+f.PREV_SCALE],q=k[s+f.PREV_SHEAR];var t=k[s],u=this.getCurvePercent(s/f.ENTRIES-1,1-(e-t)/(k[s+f.PREV_TIME]-t));n+=(k[s+f.ROTATE]-n)*u,o+=(k[s+f.TRANSLATE]-o)*u,p+=(k[s+f.SCALE]-p)*u,q+=(k[s+f.SHEAR]-q)*u}if(i==c.setup){var m=l.data;l.rotateMix=m.rotateMix+(n-m.rotateMix)*h,l.translateMix=m.translateMix+(o-m.translateMix)*h,l.scaleMix=m.scaleMix+(p-m.scaleMix)*h,l.shearMix=m.shearMix+(q-m.shearMix)*h}else l.rotateMix+=(n-l.rotateMix)*h,l.translateMix+=(o-l.translateMix)*h,l.scaleMix+=(p-l.scaleMix)*h,l.shearMix+=(q-l.shearMix)*h}},f.ENTRIES=5,f.PREV_TIME=-5,f.PREV_ROTATE=-4,f.PREV_TRANSLATE=-3,f.PREV_SCALE=-2,f.PREV_SHEAR=-1,f.ROTATE=1,f.TRANSLATE=2,f.SCALE=3,f.SHEAR=4,f}(f);a.TransformConstraintTimeline=s;var t=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.pathConstraintPosition<<24)+this.pathConstraintIndex},f.prototype.setFrame=function(a,b,c){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.VALUE]=c},f.prototype.apply=function(a,d,e,g,h,i,j){var k=this.frames,l=a.pathConstraints[this.pathConstraintIndex];if(e<k[0])switch(i){case c.setup:return void(l.position=l.data.position);case c.current:l.position+=(l.data.position-l.position)*h}else{var m=0;if(e>=k[k.length-f.ENTRIES])m=k[k.length+f.PREV_VALUE];else{var n=b.binarySearch(k,e,f.ENTRIES);m=k[n+f.PREV_VALUE];var o=k[n],p=this.getCurvePercent(n/f.ENTRIES-1,1-(e-o)/(k[n+f.PREV_TIME]-o));m+=(k[n+f.VALUE]-m)*p}i==c.setup?l.position=l.data.position+(m-l.data.position)*h:l.position+=(m-l.position)*h}},f.ENTRIES=2,f.PREV_TIME=-2,f.PREV_VALUE=-1,f.VALUE=1,f}(f);a.PathConstraintPositionTimeline=t;var u=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(e.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(a,e,f,g,h,i,j){var k=this.frames,l=a.pathConstraints[this.pathConstraintIndex];if(f<k[0])switch(i){case c.setup:return void(l.spacing=l.data.spacing);case c.current:l.spacing+=(l.data.spacing-l.spacing)*h}else{var m=0;if(f>=k[k.length-d.ENTRIES])m=k[k.length+d.PREV_VALUE];else{var n=b.binarySearch(k,f,d.ENTRIES);m=k[n+d.PREV_VALUE];var o=k[n],p=this.getCurvePercent(n/d.ENTRIES-1,1-(f-o)/(k[n+d.PREV_TIME]-o));m+=(k[n+d.VALUE]-m)*p}i==c.setup?l.spacing=l.data.spacing+(m-l.data.spacing)*h:l.spacing+=(m-l.spacing)*h}},d}(t);a.PathConstraintSpacingTimeline=u;var v=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.pathConstraintMix<<24)+this.pathConstraintIndex},f.prototype.setFrame=function(a,b,c,d){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.ROTATE]=c,this.frames[a+f.TRANSLATE]=d},f.prototype.apply=function(a,d,e,g,h,i,j){var k=this.frames,l=a.pathConstraints[this.pathConstraintIndex];if(e<k[0])switch(i){case c.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case c.current:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*h,l.translateMix+=(l.data.translateMix-l.translateMix)*h}else{var m=0,n=0;if(e>=k[k.length-f.ENTRIES])m=k[k.length+f.PREV_ROTATE],n=k[k.length+f.PREV_TRANSLATE];else{var o=b.binarySearch(k,e,f.ENTRIES);m=k[o+f.PREV_ROTATE],n=k[o+f.PREV_TRANSLATE];var p=k[o],q=this.getCurvePercent(o/f.ENTRIES-1,1-(e-p)/(k[o+f.PREV_TIME]-p));m+=(k[o+f.ROTATE]-m)*q,n+=(k[o+f.TRANSLATE]-n)*q}i==c.setup?(l.rotateMix=l.data.rotateMix+(m-l.data.rotateMix)*h,l.translateMix=l.data.translateMix+(n-l.data.translateMix)*h):(l.rotateMix+=(m-l.rotateMix)*h,l.translateMix+=(n-l.translateMix)*h)}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_ROTATE=-2,f.PREV_TRANSLATE=-1,f.ROTATE=1,f.TRANSLATE=2,f}(f);a.PathConstraintMixTimeline=v}(spine||(spine={}));var spine;!function(a){var b=function(){function b(b){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new d(this),this.propertyIDs=new a.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new a.Pool(function(){return new c}),this.data=b}return b.prototype.update=function(a){a*=this.timeScale;for(var b=this.tracks,c=0,d=b.length;c<d;c++){var e=b[c];if(null!=e){e.animationLast=e.nextAnimationLast,e.trackLast=e.nextTrackLast;var f=a*e.timeScale;if(e.delay>0){if(e.delay-=f,e.delay>0)continue;f=-e.delay,e.delay=0}var g=e.next;if(null!=g){var h=e.trackLast-g.delay;if(h>=0){for(g.delay=0,g.trackTime=h+a*g.timeScale,e.trackTime+=f,this.setCurrent(c,g,!0);null!=g.mixingFrom;)g.mixTime+=f,g=g.mixingFrom;continue}}else if(e.trackLast>=e.trackEnd&&null==e.mixingFrom){b[c]=null,this.queue.end(e),this.disposeNext(e);continue}if(null!=e.mixingFrom&&this.updateMixingFrom(e,a)){var i=e.mixingFrom;for(e.mixingFrom=null;null!=i;)this.queue.end(i),i=i.mixingFrom}e.trackTime+=f}}this.queue.drain()},b.prototype.updateMixingFrom=function(a,b){var c=a.mixingFrom;if(null==c)return!0;var d=this.updateMixingFrom(c,b);return c.animationLast=c.nextAnimationLast,c.trackLast=c.nextTrackLast,a.mixTime>0&&(a.mixTime>=a.mixDuration||0==a.timeScale)?(0!=c.totalAlpha&&0!=a.mixDuration||(a.mixingFrom=c.mixingFrom,a.interruptAlpha=c.interruptAlpha,this.queue.end(c)),d):(c.trackTime+=b*c.timeScale,a.mixTime+=b*a.timeScale,!1)},b.prototype.apply=function(c){if(null==c)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var d=this.events,e=this.tracks,f=!1,g=0,h=e.length;g<h;g++){var i=e[g];if(!(null==i||i.delay>0)){f=!0;var j=0==g?a.MixPose.current:a.MixPose.currentLayered,k=i.alpha;null!=i.mixingFrom?k*=this.applyMixingFrom(i,c,j):i.trackTime>=i.trackEnd&&null==i.next&&(k=0);var l=i.animationLast,m=i.getAnimationTime(),n=i.animation.timelines.length,o=i.animation.timelines;if(1==k)for(var p=0;p<n;p++)o[p].apply(c,l,m,d,1,a.MixPose.setup,a.MixDirection.in);else{var q=i.timelineData,r=0==i.timelinesRotation.length;r&&a.Utils.setArraySize(i.timelinesRotation,n<<1,null);for(var s=i.timelinesRotation,p=0;p<n;p++){var t=o[p],u=q[p]>=b.FIRST?a.MixPose.setup:j;t instanceof a.RotateTimeline?this.applyRotateTimeline(t,c,m,k,u,s,p<<1,r):(a.Utils.webkit602BugfixHelper(k,u),t.apply(c,l,m,d,k,u,a.MixDirection.in))}}this.queueEvents(i,m),d.length=0,i.nextAnimationLast=m,i.nextTrackLast=i.trackTime}}return this.queue.drain(),f},b.prototype.applyMixingFrom=function(c,d,e){var f=c.mixingFrom;null!=f.mixingFrom&&this.applyMixingFrom(f,d,e);var g=0;0==c.mixDuration?(g=1,e=a.MixPose.setup):(g=c.mixTime/c.mixDuration,g>1&&(g=1));var h=g<f.eventThreshold?this.events:null,i=g<f.attachmentThreshold,j=g<f.drawOrderThreshold,k=f.animationLast,l=f.getAnimationTime(),m=f.animation.timelines.length,n=f.animation.timelines,o=f.timelineData,p=f.timelineDipMix,q=0==f.timelinesRotation.length;q&&a.Utils.setArraySize(f.timelinesRotation,m<<1,null);var r,s=f.timelinesRotation,t=f.alpha*c.interruptAlpha,u=t*(1-g),v=0;f.totalAlpha=0;for(var w=0;w<m;w++){var x=n[w];switch(o[w]){case b.SUBSEQUENT:if(!i&&x instanceof a.AttachmentTimeline)continue;if(!j&&x instanceof a.DrawOrderTimeline)continue;r=e,v=u;break;case b.FIRST:r=a.MixPose.setup,v=u;break;case b.DIP:r=a.MixPose.setup,v=t;break;default:r=a.MixPose.setup,v=t;var y=p[w];v*=Math.max(0,1-y.mixTime/y.mixDuration)}f.totalAlpha+=v,x instanceof a.RotateTimeline?this.applyRotateTimeline(x,d,l,v,r,s,w<<1,q):(a.Utils.webkit602BugfixHelper(v,r),x.apply(d,k,l,h,v,r,a.MixDirection.out))}return c.mixDuration>0&&this.queueEvents(f,l),this.events.length=0,f.nextAnimationLast=l,f.nextTrackLast=f.trackTime,g},b.prototype.applyRotateTimeline=function(b,c,d,e,f,g,h,i){if(i&&(g[h]=0),1==e)return void b.apply(c,0,d,null,1,f,a.MixDirection.in);var j=b,k=j.frames,l=c.bones[j.boneIndex];if(d<k[0])return void(f==a.MixPose.setup&&(l.rotation=l.data.rotation));var m=0;if(d>=k[k.length-a.RotateTimeline.ENTRIES])m=l.data.rotation+k[k.length+a.RotateTimeline.PREV_ROTATION];else{var n=a.Animation.binarySearch(k,d,a.RotateTimeline.ENTRIES),o=k[n+a.RotateTimeline.PREV_ROTATION],p=k[n],q=j.getCurvePercent((n>>1)-1,1-(d-p)/(k[n+a.RotateTimeline.PREV_TIME]-p));m=k[n+a.RotateTimeline.ROTATION]-o,m-=360*(16384-(16384.499999999996-m/360|0)),m=o+m*q+l.data.rotation,m-=360*(16384-(16384.499999999996-m/360|0))}var r=f==a.MixPose.setup?l.data.rotation:l.rotation,s=0,t=m-r;if(0==t)s=g[h];else{t-=360*(16384-(16384.499999999996-t/360|0));var u=0,v=0;i?(u=0,v=t):(u=g[h],v=g[h+1]);var w=t>0,x=u>=0;a.MathUtils.signum(v)!=a.MathUtils.signum(t)&&Math.abs(v)<=90&&(Math.abs(u)>180&&(u+=360*a.MathUtils.signum(u)),x=w),s=t+u-u%360,x!=w&&(s+=360*a.MathUtils.signum(u)),g[h]=s}g[h+1]=t,r+=s*e,l.rotation=r-360*(16384-(16384.499999999996-r/360|0))},b.prototype.queueEvents=function(a,b){for(var c=a.animationStart,d=a.animationEnd,e=d-c,f=a.trackLast%e,g=this.events,h=0,i=g.length;h<i;h++){var j=g[h];if(j.time<f)break;j.time>d||this.queue.event(a,j)}var k=!1;for(k=a.loop?0==e||f>a.trackTime%e:b>=d&&a.animationLast<d,k&&this.queue.complete(a);h<i;h++){var l=g[h];l.time<c||this.queue.event(a,g[h])}},b.prototype.clearTracks=function(){var a=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var b=0,c=this.tracks.length;b<c;b++)this.clearTrack(b);this.tracks.length=0,this.queue.drainDisabled=a,this.queue.drain()},b.prototype.clearTrack=function(a){if(!(a>=this.tracks.length)){var b=this.tracks[a];if(null!=b){this.queue.end(b),this.disposeNext(b);for(var c=b;;){var d=c.mixingFrom;if(null==d)break;this.queue.end(d),c.mixingFrom=null,c=d}this.tracks[b.trackIndex]=null,this.queue.drain()}}},b.prototype.setCurrent=function(a,b,c){var d=this.expandToIndex(a);this.tracks[a]=b,null!=d&&(c&&this.queue.interrupt(d),b.mixingFrom=d,b.mixTime=0,null!=d.mixingFrom&&d.mixDuration>0&&(b.interruptAlpha*=Math.min(1,d.mixTime/d.mixDuration)),d.timelinesRotation.length=0),this.queue.start(b)},b.prototype.setAnimation=function(a,b,c){var d=this.data.skeletonData.findAnimation(b);if(null==d)throw new Error("Animation not found: "+b);return this.setAnimationWith(a,d,c)},b.prototype.setAnimationWith=function(a,b,c){if(null==b)throw new Error("animation cannot be null.");var d=!0,e=this.expandToIndex(a);null!=e&&(e.nextTrackLast==-1?(this.tracks[a]=e.mixingFrom,this.queue.interrupt(e),this.queue.end(e),this.disposeNext(e),e=e.mixingFrom,d=!1):this.disposeNext(e));var f=this.trackEntry(a,b,c,e);return this.setCurrent(a,f,d),this.queue.drain(),f},b.prototype.addAnimation=function(a,b,c,d){var e=this.data.skeletonData.findAnimation(b);if(null==e)throw new Error("Animation not found: "+b);return this.addAnimationWith(a,e,c,d)},b.prototype.addAnimationWith=function(a,b,c,d){if(null==b)throw new Error("animation cannot be null.");var e=this.expandToIndex(a);if(null!=e)for(;null!=e.next;)e=e.next;var f=this.trackEntry(a,b,c,e);if(null==e)this.setCurrent(a,f,!0),this.queue.drain();else if(e.next=f,d<=0){var g=e.animationEnd-e.animationStart;0!=g?(d+=e.loop?g*(1+(e.trackTime/g|0)):g,d-=this.data.getMix(e.animation,b)):d=0}return f.delay=d,f},b.prototype.setEmptyAnimation=function(a,c){var d=this.setAnimationWith(a,b.emptyAnimation,!1);return d.mixDuration=c,d.trackEnd=c,d},b.prototype.addEmptyAnimation=function(a,c,d){d<=0&&(d-=c);var e=this.addAnimationWith(a,b.emptyAnimation,!1,d);return e.mixDuration=c,e.trackEnd=c,e},b.prototype.setEmptyAnimations=function(a){var b=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var c=0,d=this.tracks.length;c<d;c++){var e=this.tracks[c];null!=e&&this.setEmptyAnimation(e.trackIndex,a)}this.queue.drainDisabled=b,this.queue.drain()},b.prototype.expandToIndex=function(b){return b<this.tracks.length?this.tracks[b]:(a.Utils.ensureArrayCapacity(this.tracks,b-this.tracks.length+1,null),this.tracks.length=b+1,null)},b.prototype.trackEntry=function(a,b,c,d){var e=this.trackEntryPool.obtain();return e.trackIndex=a,e.animation=b,e.loop=c,e.eventThreshold=0,e.attachmentThreshold=0,e.drawOrderThreshold=0,e.animationStart=0,e.animationEnd=b.duration,e.animationLast=-1,e.nextAnimationLast=-1,e.delay=0,e.trackTime=0,e.trackLast=-1,e.nextTrackLast=-1,e.trackEnd=Number.MAX_VALUE,e.timeScale=1,e.alpha=1,e.interruptAlpha=1,e.mixTime=0,e.mixDuration=null==d?0:this.data.getMix(d.animation,b),e},b.prototype.disposeNext=function(a){for(var b=a.next;null!=b;)this.queue.dispose(b),b=b.next;a.next=null},b.prototype._animationsChanged=function(){this.animationsChanged=!1;var a=this.propertyIDs;a.clear();for(var b=this.mixingTo,c=0,d=this.tracks.length;c<d;c++){var e=this.tracks[c];null!=e&&e.setTimelineData(null,b,a)}},b.prototype.getCurrent=function(a){return a>=this.tracks.length?null:this.tracks[a]},b.prototype.addListener=function(a){if(null==a)throw new Error("listener cannot be null.");this.listeners.push(a)},b.prototype.removeListener=function(a){var b=this.listeners.indexOf(a);b>=0&&this.listeners.splice(b,1)},b.prototype.clearListeners=function(){this.listeners.length=0},b.prototype.clearListenerNotifications=function(){this.queue.clear()},b.emptyAnimation=new a.Animation("<empty>",[],0),
b.SUBSEQUENT=0,b.FIRST=1,b.DIP=2,b.DIP_MIX=3,b}();a.AnimationState=b;var c=function(){function c(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}return c.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},c.prototype.setTimelineData=function(c,d,e){null!=c&&d.push(c);var f=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,d,e):this;null!=c&&d.pop();var g=d,h=d.length-1,i=this.animation.timelines,j=this.animation.timelines.length,k=a.Utils.setArraySize(this.timelineData,j);this.timelineDipMix.length=0;var l=a.Utils.setArraySize(this.timelineDipMix,j);a:for(var m=0;m<j;m++){var n=i[m].getPropertyId();if(e.add(n))if(null!=c&&c.hasTimeline(n)){for(var o=h;o>=0;o--){var p=g[o];if(!p.hasTimeline(n)&&p.mixDuration>0){k[m]=b.DIP_MIX,l[m]=p;continue a}}k[m]=b.DIP}else k[m]=b.FIRST;else k[m]=b.SUBSEQUENT}return f},c.prototype.hasTimeline=function(a){for(var b=this.animation.timelines,c=0,d=b.length;c<d;c++)if(b[c].getPropertyId()==a)return!0;return!1},c.prototype.getAnimationTime=function(){if(this.loop){var a=this.animationEnd-this.animationStart;return 0==a?this.animationStart:this.trackTime%a+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},c.prototype.setAnimationLast=function(a){this.animationLast=a,this.nextAnimationLast=a},c.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},c.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},c}();a.TrackEntry=c;var d=function(){function a(a){this.objects=[],this.drainDisabled=!1,this.animState=a}return a.prototype.start=function(a){this.objects.push(e.start),this.objects.push(a),this.animState.animationsChanged=!0},a.prototype.interrupt=function(a){this.objects.push(e.interrupt),this.objects.push(a)},a.prototype.end=function(a){this.objects.push(e.end),this.objects.push(a),this.animState.animationsChanged=!0},a.prototype.dispose=function(a){this.objects.push(e.dispose),this.objects.push(a)},a.prototype.complete=function(a){this.objects.push(e.complete),this.objects.push(a)},a.prototype.event=function(a,b){this.objects.push(e.event),this.objects.push(a),this.objects.push(b)},a.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var a=this.objects,b=this.animState.listeners,c=0;c<a.length;c+=2){var d=a[c],f=a[c+1];switch(d){case e.start:null!=f.listener&&f.listener.start&&f.listener.start(f);for(var g=0;g<b.length;g++)b[g].start&&b[g].start(f);break;case e.interrupt:null!=f.listener&&f.listener.interrupt&&f.listener.interrupt(f);for(var g=0;g<b.length;g++)b[g].interrupt&&b[g].interrupt(f);break;case e.end:null!=f.listener&&f.listener.end&&f.listener.end(f);for(var g=0;g<b.length;g++)b[g].end&&b[g].end(f);case e.dispose:null!=f.listener&&f.listener.dispose&&f.listener.dispose(f);for(var g=0;g<b.length;g++)b[g].dispose&&b[g].dispose(f);this.animState.trackEntryPool.free(f);break;case e.complete:null!=f.listener&&f.listener.complete&&f.listener.complete(f);for(var g=0;g<b.length;g++)b[g].complete&&b[g].complete(f);break;case e.event:var h=a[c++ +2];null!=f.listener&&f.listener.event&&f.listener.event(f,h);for(var g=0;g<b.length;g++)b[g].event&&b[g].event(f,h)}}this.clear(),this.drainDisabled=!1}},a.prototype.clear=function(){this.objects.length=0},a}();a.EventQueue=d;var e;!function(a){a[a.start=0]="start",a[a.interrupt=1]="interrupt",a[a.end=2]="end",a[a.dispose=3]="dispose",a[a.complete=4]="complete",a[a.event=5]="event"}(e=a.EventType||(a.EventType={}));var f=function(){function a(){}return a.prototype.start=function(a){},a.prototype.interrupt=function(a){},a.prototype.end=function(a){},a.prototype.dispose=function(a){},a.prototype.complete=function(a){},a.prototype.event=function(a,b){},a}();a.AnimationStateAdapter2=f}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a){if(this.animationToMixTime={},this.defaultMix=0,null==a)throw new Error("skeletonData cannot be null.");this.skeletonData=a}return a.prototype.setMix=function(a,b,c){var d=this.skeletonData.findAnimation(a);if(null==d)throw new Error("Animation not found: "+a);var e=this.skeletonData.findAnimation(b);if(null==e)throw new Error("Animation not found: "+b);this.setMixWith(d,e,c)},a.prototype.setMixWith=function(a,b,c){if(null==a)throw new Error("from cannot be null.");if(null==b)throw new Error("to cannot be null.");var d=a.name+"."+b.name;this.animationToMixTime[d]=c},a.prototype.getMix=function(a,b){var c=a.name+"."+b.name,d=this.animationToMixTime[c];return void 0===d?this.defaultMix:d},a}();a.AnimationStateData=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a,b){void 0===b&&(b=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=a,this.pathPrefix=b}return b.downloadText=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0),d.onload=function(){200==d.status?b(d.responseText):c(d.status,d.responseText)},d.onerror=function(){c(d.status,d.responseText)},d.send()},b.downloadBinary=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(){200==d.status?b(new Uint8Array(d.response)):c(d.status,d.responseText)},d.onerror=function(){c(d.status,d.responseText)},d.send()},b.prototype.loadText=function(a,c,d){var e=this;void 0===c&&(c=null),void 0===d&&(d=null),a=this.pathPrefix+a,this.toLoad++,b.downloadText(a,function(b){e.assets[a]=b,c&&c(a,b),e.toLoad--,e.loaded++},function(b,c){e.errors[a]="Couldn't load text "+a+": status "+status+", "+c,d&&d(a,"Couldn't load text "+a+": status "+status+", "+c),e.toLoad--,e.loaded++})},b.prototype.loadTexture=function(a,b,c){var d=this;void 0===b&&(b=null),void 0===c&&(c=null),a=this.pathPrefix+a,this.toLoad++;var e=new Image;e.crossOrigin="anonymous",e.onload=function(c){var f=d.textureLoader(e);d.assets[a]=f,d.toLoad--,d.loaded++,b&&b(a,e)},e.onerror=function(b){d.errors[a]="Couldn't load image "+a,d.toLoad--,d.loaded++,c&&c(a,"Couldn't load image "+a)},e.src=a},b.prototype.loadTextureData=function(a,b,c,d){var e=this;void 0===c&&(c=null),void 0===d&&(d=null),a=this.pathPrefix+a,this.toLoad++;var f=new Image;f.onload=function(b){var d=e.textureLoader(f);e.assets[a]=d,e.toLoad--,e.loaded++,c&&c(a,f)},f.onerror=function(b){e.errors[a]="Couldn't load image "+a,e.toLoad--,e.loaded++,d&&d(a,"Couldn't load image "+a)},f.src=b},b.prototype.loadTextureAtlas=function(c,d,e){var f=this;void 0===d&&(d=null),void 0===e&&(e=null);var g=c.lastIndexOf("/")>=0?c.substring(0,c.lastIndexOf("/")):"";c=this.pathPrefix+c,this.toLoad++,b.downloadText(c,function(b){var h={count:0},i=new Array;try{new a.TextureAtlas(b,function(b){i.push(g+"/"+b);var c=document.createElement("img");return c.width=16,c.height=16,new a.FakeTexture(c)})}catch(a){var j=a;return f.errors[c]="Couldn't load texture atlas "+c+": "+j.message,e&&e(c,"Couldn't load texture atlas "+c+": "+j.message),f.toLoad--,void f.loaded++}for(var k=function(j){var k=!1;f.loadTexture(j,function(j,l){if(h.count++,h.count==i.length)if(k)f.errors[c]="Couldn't load texture atlas page "+j+"} of atlas "+c,e&&e(c,"Couldn't load texture atlas page "+j+" of atlas "+c),f.toLoad--,f.loaded++;else try{var m=new a.TextureAtlas(b,function(a){return f.get(g+"/"+a)});f.assets[c]=m,d&&d(c,m),f.toLoad--,f.loaded++}catch(a){var n=a;f.errors[c]="Couldn't load texture atlas "+c+": "+n.message,e&&e(c,"Couldn't load texture atlas "+c+": "+n.message),f.toLoad--,f.loaded++}},function(a,b){k=!0,h.count++,h.count==i.length&&(f.errors[c]="Couldn't load texture atlas page "+a+"} of atlas "+c,e&&e(c,"Couldn't load texture atlas page "+a+" of atlas "+c),f.toLoad--,f.loaded++)})},l=0,m=i;l<m.length;l++){var n=m[l];k(n)}},function(a,b){f.errors[c]="Couldn't load texture atlas "+c+": status "+status+", "+b,e&&e(c,"Couldn't load texture atlas "+c+": status "+status+", "+b),f.toLoad--,f.loaded++})},b.prototype.get=function(a){return a=this.pathPrefix+a,this.assets[a]},b.prototype.remove=function(a){a=this.pathPrefix+a;var b=this.assets[a];b.dispose&&b.dispose(),this.assets[a]=null},b.prototype.removeAll=function(){for(var a in this.assets){var b=this.assets[a];b.dispose&&b.dispose()}this.assets={}},b.prototype.isLoadingComplete=function(){return 0==this.toLoad},b.prototype.getToLoad=function(){return this.toLoad},b.prototype.getLoaded=function(){return this.loaded},b.prototype.dispose=function(){this.removeAll()},b.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},b.prototype.getErrors=function(){return this.errors},b}();a.AssetManager=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a){this.atlas=a}return b.prototype.newRegionAttachment=function(b,c,d){var e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (region attachment: "+c+")");e.renderObject=e;var f=new a.RegionAttachment(c);return f.setRegion(e),f},b.prototype.newMeshAttachment=function(b,c,d){var e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (mesh attachment: "+c+")");e.renderObject=e;var f=new a.MeshAttachment(c);return f.region=e,f},b.prototype.newBoundingBoxAttachment=function(b,c){return new a.BoundingBoxAttachment(c)},b.prototype.newPathAttachment=function(b,c){return new a.PathAttachment(c)},b.prototype.newPointAttachment=function(b,c){return new a.PointAttachment(c)},b.prototype.newClippingAttachment=function(b,c){return new a.ClippingAttachment(c)},b}();a.AtlasAttachmentLoader=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a){if(null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.Attachment=b;var c=function(a){function b(c){var d=a.call(this,c)||this;return d.id=(65535&b.nextID++)<<11,d.worldVerticesLength=0,d}return __extends(b,a),b.prototype.computeWorldVertices=function(a,b,c,d,e,f){c=e+(c>>1)*f;var g=a.bone.skeleton,h=a.attachmentVertices,i=this.vertices,j=this.bones;if(null!=j){for(var k=0,l=0,m=0;m<b;m+=2){var n=j[k];k+=n+1,l+=n}var o=g.bones;if(0==h.length)for(var p=e,q=3*l;p<c;p+=f){var r=0,s=0,n=j[k++];for(n+=k;k<n;k++,q+=3){var t=o[j[k]],u=i[q],v=i[q+1],w=i[q+2];r+=(u*t.a+v*t.b+t.worldX)*w,s+=(u*t.c+v*t.d+t.worldY)*w}d[p]=r,d[p+1]=s}else for(var x=h,p=e,q=3*l,y=l<<1;p<c;p+=f){var r=0,s=0,n=j[k++];for(n+=k;k<n;k++,q+=3,y+=2){var t=o[j[k]],u=i[q]+x[y],v=i[q+1]+x[y+1],w=i[q+2];r+=(u*t.a+v*t.b+t.worldX)*w,s+=(u*t.c+v*t.d+t.worldY)*w}d[p]=r,d[p+1]=s}}else{h.length>0&&(i=h);for(var t=a.bone,z=t.worldX,A=t.worldY,B=t.a,q=t.b,C=t.c,D=t.d,E=b,p=e;p<c;E+=2,p+=f){var u=i[E],v=i[E+1];d[p]=u*B+v*q+z,d[p+1]=u*C+v*D+A}}},b.prototype.applyDeform=function(a){return this==a},b.nextID=0,b}(b);a.VertexAttachment=c}(spine||(spine={}));var spine;!function(a){var b;!function(a){a[a.Region=0]="Region",a[a.BoundingBox=1]="BoundingBox",a[a.Mesh=2]="Mesh",a[a.LinkedMesh=3]="LinkedMesh",a[a.Path=4]="Path",a[a.Point=5]="Point"}(b=a.AttachmentType||(a.AttachmentType={}))}(spine||(spine={}));var spine;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment);a.BoundingBoxAttachment=b}(spine||(spine={}));var spine;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(.2275,.2275,.8078,1),d}return __extends(c,b),c}(a.VertexAttachment);a.ClippingAttachment=b}(spine||(spine={}));var spine;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d.inheritDeform=!1,d.tempColor=new a.Color(0,0,0,0),d}return __extends(c,b),c.prototype.updateUVs=function(){var b=0,c=0,d=0,e=0;null==this.region?(b=c=0,d=e=1):(b=this.region.u,c=this.region.v,d=this.region.u2-b,e=this.region.v2-c);var f=this.regionUVs;null!=this.uvs&&this.uvs.length==f.length||(this.uvs=a.Utils.newFloatArray(f.length));var g=this.uvs;if(this.region.rotate)for(var h=0,i=g.length;h<i;h+=2)g[h]=b+f[h+1]*d,g[h+1]=c+e-f[h]*e;else for(var h=0,i=g.length;h<i;h+=2)g[h]=b+f[h]*d,g[h+1]=c+f[h+1]*e},c.prototype.applyDeform=function(a){return this==a||this.inheritDeform&&this.parentMesh==a},c.prototype.getParentMesh=function(){return this.parentMesh},c.prototype.setParentMesh=function(a){this.parentMesh=a,null!=a&&(this.bones=a.bones,this.vertices=a.vertices,this.worldVerticesLength=a.worldVerticesLength,this.regionUVs=a.regionUVs,this.triangles=a.triangles,this.hullLength=a.hullLength,this.worldVerticesLength=a.worldVerticesLength)},c}(a.VertexAttachment);a.MeshAttachment=b}(spine||(spine={}));var spine;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.closed=!1,d.constantSpeed=!1,d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment);a.PathAttachment=b}(spine||(spine={}));var spine;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(.38,.94,0,1),d}return __extends(c,b),c.prototype.computeWorldPosition=function(a,b){return b.x=this.x*a.a+this.y*a.b+a.worldX,b.y=this.x*a.c+this.y*a.d+a.worldY,b},c.prototype.computeWorldRotation=function(b){var c=a.MathUtils.cosDeg(this.rotation),d=a.MathUtils.sinDeg(this.rotation),e=c*b.a+d*b.b,f=c*b.c+d*b.d;return Math.atan2(f,e)*a.MathUtils.radDeg},c}(a.VertexAttachment);a.PointAttachment=b}(spine||(spine={}));var spine;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.x=0,d.y=0,d.scaleX=1,d.scaleY=1,d.rotation=0,d.width=0,d.height=0,d.color=new a.Color(1,1,1,1),d.offset=a.Utils.newFloatArray(8),d.uvs=a.Utils.newFloatArray(8),d.tempColor=new a.Color(1,1,1,1),d}return __extends(c,b),c.prototype.updateOffset=function(){var a=this.width/this.region.originalWidth*this.scaleX,b=this.height/this.region.originalHeight*this.scaleY,d=-this.width/2*this.scaleX+this.region.offsetX*a,e=-this.height/2*this.scaleY+this.region.offsetY*b,f=d+this.region.width*a,g=e+this.region.height*b,h=this.rotation*Math.PI/180,i=Math.cos(h),j=Math.sin(h),k=d*i+this.x,l=d*j,m=e*i+this.y,n=e*j,o=f*i+this.x,p=f*j,q=g*i+this.y,r=g*j,s=this.offset;s[c.OX1]=k-n,s[c.OY1]=m+l,s[c.OX2]=k-r,s[c.OY2]=q+l,s[c.OX3]=o-r,s[c.OY3]=q+p,s[c.OX4]=o-n,s[c.OY4]=m+p},c.prototype.setRegion=function(a){this.region=a;var b=this.uvs;a.rotate?(b[2]=a.u,b[3]=a.v2,b[4]=a.u,b[5]=a.v,b[6]=a.u2,b[7]=a.v,b[0]=a.u2,b[1]=a.v2):(b[0]=a.u,b[1]=a.v2,b[2]=a.u,b[3]=a.v,b[4]=a.u2,b[5]=a.v,b[6]=a.u2,b[7]=a.v2)},c.prototype.computeWorldVertices=function(a,b,d,e){var f=this.offset,g=a.worldX,h=a.worldY,i=a.a,j=a.b,k=a.c,l=a.d,m=0,n=0;m=f[c.OX1],n=f[c.OY1],b[d]=m*i+n*j+g,b[d+1]=m*k+n*l+h,d+=e,m=f[c.OX2],n=f[c.OY2],b[d]=m*i+n*j+g,b[d+1]=m*k+n*l+h,d+=e,m=f[c.OX3],n=f[c.OY3],b[d]=m*i+n*j+g,b[d+1]=m*k+n*l+h,d+=e,m=f[c.OX4],n=f[c.OY4],b[d]=m*i+n*j+g,b[d+1]=m*k+n*l+h},c.OX1=0,c.OY1=1,c.OX2=2,c.OY2=3,c.OX3=4,c.OY3=5,c.OX4=6,c.OY4=7,c.X1=0,c.Y1=1,c.C1R=2,c.C1G=3,c.C1B=4,c.C1A=5,c.U1=6,c.V1=7,c.X2=8,c.Y2=9,c.C2R=10,c.C2G=11,c.C2B=12,c.C2A=13,c.U2=14,c.V2=15,c.X3=16,c.Y3=17,c.C3R=18,c.C3G=19,c.C3B=20,c.C3A=21,c.U3=22,c.V3=23,c.X4=24,c.Y4=25,c.C4R=26,c.C4G=27,c.C4B=28,c.C4A=29,c.U4=30,c.V4=31,c}(a.Attachment);a.RegionAttachment=b}(spine||(spine={}));var spine;!function(a){var b;!function(a){a[a.Normal=0]="Normal",a[a.Additive=1]="Additive",a[a.Multiply=2]="Multiply",a[a.Screen=3]="Screen"}(b=a.BlendMode||(a.BlendMode={}))}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a,b,c){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.worldX=0,this.c=0,this.d=0,this.worldY=0,this.sorted=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.skeleton=b,this.parent=c,this.setToSetupPose()}return b.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransformWith=function(b,c,d,e,f,g,h){this.ax=b,this.ay=c,this.arotation=d,this.ascaleX=e,this.ascaleY=f,this.ashearX=g,this.ashearY=h,this.appliedValid=!0;var i=this.parent;if(null==i){var j=d+90+h,k=a.MathUtils.cosDeg(d+g)*e,l=a.MathUtils.cosDeg(j)*f,m=a.MathUtils.sinDeg(d+g)*e,n=a.MathUtils.sinDeg(j)*f,o=this.skeleton;return o.flipX&&(b=-b,k=-k,l=-l),o.flipY&&(c=-c,m=-m,n=-n),this.a=k,this.b=l,this.c=m,this.d=n,this.worldX=b+o.x,void(this.worldY=c+o.y)}var p=i.a,q=i.b,r=i.c,s=i.d;switch(this.worldX=p*b+q*c+i.worldX,this.worldY=r*b+s*c+i.worldY,this.data.transformMode){case a.TransformMode.Normal:var j=d+90+h,k=a.MathUtils.cosDeg(d+g)*e,l=a.MathUtils.cosDeg(j)*f,m=a.MathUtils.sinDeg(d+g)*e,n=a.MathUtils.sinDeg(j)*f;return this.a=p*k+q*m,this.b=p*l+q*n,this.c=r*k+s*m,void(this.d=r*l+s*n);case a.TransformMode.OnlyTranslation:var j=d+90+h;this.a=a.MathUtils.cosDeg(d+g)*e,this.b=a.MathUtils.cosDeg(j)*f,this.c=a.MathUtils.sinDeg(d+g)*e,this.d=a.MathUtils.sinDeg(j)*f;break;case a.TransformMode.NoRotationOrReflection:var t=p*p+r*r,u=0;t>1e-4?(t=Math.abs(p*s-q*r)/t,q=r*t,s=p*t,u=Math.atan2(r,p)*a.MathUtils.radDeg):(p=0,r=0,u=90-Math.atan2(s,q)*a.MathUtils.radDeg);var v=d+g-u,w=d+h-u+90,k=a.MathUtils.cosDeg(v)*e,l=a.MathUtils.cosDeg(w)*f,m=a.MathUtils.sinDeg(v)*e,n=a.MathUtils.sinDeg(w)*f;this.a=p*k-q*m,this.b=p*l-q*n,this.c=r*k+s*m,this.d=r*l+s*n;break;case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:var x=a.MathUtils.cosDeg(d),y=a.MathUtils.sinDeg(d),z=p*x+q*y,A=r*x+s*y,t=Math.sqrt(z*z+A*A);t>1e-5&&(t=1/t),z*=t,A*=t,t=Math.sqrt(z*z+A*A);var B=Math.PI/2+Math.atan2(A,z),C=Math.cos(B)*t,D=Math.sin(B)*t,k=a.MathUtils.cosDeg(g)*e,l=a.MathUtils.cosDeg(90+h)*f,m=a.MathUtils.sinDeg(g)*e,n=a.MathUtils.sinDeg(90+h)*f;return(this.data.transformMode!=a.TransformMode.NoScaleOrReflection?p*s-q*r<0:this.skeleton.flipX!=this.skeleton.flipY)&&(C=-C,D=-D),this.a=z*k+C*m,this.b=z*l+C*n,this.c=A*k+D*m,void(this.d=A*l+D*n)}this.skeleton.flipX&&(this.a=-this.a,this.b=-this.b),this.skeleton.flipY&&(this.c=-this.c,this.d=-this.d)},b.prototype.setToSetupPose=function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.shearX=a.shearX,this.shearY=a.shearY},b.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*a.MathUtils.radDeg},b.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*a.MathUtils.radDeg},b.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},b.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},b.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var b=this.parent;if(null==b)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*a.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*a.MathUtils.radDeg);var c=b.a,d=b.b,e=b.c,f=b.d,g=1/(c*f-d*e),h=this.worldX-b.worldX,i=this.worldY-b.worldY;this.ax=h*f*g-i*d*g,this.ay=i*c*g-h*e*g;var j=g*f,k=g*c,l=g*d,m=g*e,n=j*this.a-l*this.c,o=j*this.b-l*this.d,p=k*this.c-m*this.a,q=k*this.d-m*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(n*n+p*p),this.ascaleX>1e-4){var r=n*q-o*p;this.ascaleY=r/this.ascaleX,this.ashearY=Math.atan2(n*o+p*q,r)*a.MathUtils.radDeg,this.arotation=Math.atan2(p,n)*a.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(o*o+q*q),this.ashearY=0,this.arotation=90-Math.atan2(q,o)*a.MathUtils.radDeg},b.prototype.worldToLocal=function(a){var b=this.a,c=this.b,d=this.c,e=this.d,f=1/(b*e-c*d),g=a.x-this.worldX,h=a.y-this.worldY;return a.x=g*e*f-h*c*f,a.y=h*b*f-g*d*f,a},b.prototype.localToWorld=function(a){var b=a.x,c=a.y;return a.x=b*this.a+c*this.b+this.worldX,a.y=b*this.c+c*this.d+this.worldY,a},b.prototype.worldToLocalRotation=function(b){var c=a.MathUtils.sinDeg(b),d=a.MathUtils.cosDeg(b);return Math.atan2(this.a*c-this.c*d,this.d*d-this.b*c)*a.MathUtils.radDeg},b.prototype.localToWorldRotation=function(b){var c=a.MathUtils.sinDeg(b),d=a.MathUtils.cosDeg(b);return Math.atan2(d*this.c+c*this.d,d*this.a+c*this.b)*a.MathUtils.radDeg},b.prototype.rotateWorld=function(b){var c=this.a,d=this.b,e=this.c,f=this.d,g=a.MathUtils.cosDeg(b),h=a.MathUtils.sinDeg(b);this.a=g*c-h*e,this.b=g*d-h*f,this.c=h*c+g*e,this.d=h*d+g*f,this.appliedValid=!1},b}();a.Bone=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a,b,d){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=c.Normal,a<0)throw new Error("index must be >= 0.");if(null==b)throw new Error("name cannot be null.");this.index=a,this.name=b,this.parent=d}return a}();a.BoneData=b;var c;!function(a){a[a.Normal=0]="Normal",a[a.OnlyTranslation=1]="OnlyTranslation",a[a.NoRotationOrReflection=2]="NoRotationOrReflection",a[a.NoScale=3]="NoScale",a[a.NoScaleOrReflection=4]="NoScaleOrReflection"}(c=a.TransformMode||(a.TransformMode={}))}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a,b){if(null==b)throw new Error("data cannot be null.");this.time=a,this.data=b}return a}();a.Event=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a){this.name=a}return a}();a.EventData=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a,b){if(this.mix=1,this.bendDirection=0,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.mix=a.mix,this.bendDirection=a.bendDirection,this.bones=new Array;for(var c=0;c<a.bones.length;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findBone(a.target.name)}return b.prototype.getOrder=function(){return this.data.order},b.prototype.apply=function(){this.update()},b.prototype.update=function(){var a=this.target,b=this.bones;switch(b.length){case 1:this.apply1(b[0],a.worldX,a.worldY,this.mix);break;case 2:this.apply2(b[0],b[1],a.worldX,a.worldY,this.bendDirection,this.mix)}},b.prototype.apply1=function(b,c,d,e){b.appliedValid||b.updateAppliedTransform();var f=b.parent,g=1/(f.a*f.d-f.b*f.c),h=c-f.worldX,i=d-f.worldY,j=(h*f.d-i*f.b)*g-b.ax,k=(i*f.a-h*f.c)*g-b.ay,l=Math.atan2(k,j)*a.MathUtils.radDeg-b.ashearX-b.arotation;b.ascaleX<0&&(l+=180),l>180?l-=360:l<-180&&(l+=360),b.updateWorldTransformWith(b.ax,b.ay,b.arotation+l*e,b.ascaleX,b.ascaleY,b.ashearX,b.ashearY)},b.prototype.apply2=function(b,c,d,e,f,g){if(0==g)return void c.updateWorldTransform();b.appliedValid||b.updateAppliedTransform(),c.appliedValid||c.updateAppliedTransform();var h=b.ax,i=b.ay,j=b.ascaleX,k=b.ascaleY,l=c.ascaleX,m=0,n=0,o=0;j<0?(j=-j,m=180,o=-1):(m=0,o=1),k<0&&(k=-k,o=-o),l<0?(l=-l,n=180):n=0;var p=c.ax,q=0,r=0,s=0,t=b.a,u=b.b,v=b.c,w=b.d,x=Math.abs(j-k)<=1e-4;x?(q=c.ay,r=t*p+u*q+b.worldX,s=v*p+w*q+b.worldY):(q=0,r=t*p+b.worldX,s=v*p+b.worldY);var y=b.parent;t=y.a,u=y.b,v=y.c,w=y.d;var z=1/(t*w-u*v),A=d-y.worldX,B=e-y.worldY,C=(A*w-B*u)*z-h,D=(B*t-A*v)*z-i;A=r-y.worldX,B=s-y.worldY;var E=(A*w-B*u)*z-h,F=(B*t-A*v)*z-i,G=Math.sqrt(E*E+F*F),H=c.data.length*l,I=0,J=0;a:if(x){H*=j;var K=(C*C+D*D-G*G-H*H)/(2*G*H);K<-1?K=-1:K>1&&(K=1),J=Math.acos(K)*f,t=G+H*K,u=H*Math.sin(J),I=Math.atan2(D*t-C*u,C*t+D*u)}else{t=j*H,u=k*H;var L=t*t,M=u*u,N=C*C+D*D,O=Math.atan2(D,C);v=M*G*G+L*N-L*M;var P=-2*M*G,Q=M-L;if(w=P*P-4*Q*v,w>=0){var R=Math.sqrt(w);P<0&&(R=-R),R=-(P+R)/2;var S=R/Q,T=v/R,U=Math.abs(S)<Math.abs(T)?S:T;if(U*U<=N){B=Math.sqrt(N-U*U)*f,I=O-Math.atan2(B,U),J=Math.atan2(B/k,(U-G)/j);break a}}var V=a.MathUtils.PI,W=G-t,X=W*W,Y=0,Z=0,$=G+t,_=$*$,aa=0;v=-t*G/(L-M),v>=-1&&v<=1&&(v=Math.acos(v),A=t*Math.cos(v)+G,B=u*Math.sin(v),w=A*A+B*B,w<X&&(V=v,X=w,W=A,Y=B),w>_&&(Z=v,_=w,$=A,aa=B)),N<=(X+_)/2?(I=O-Math.atan2(Y*f,W),J=V*f):(I=O-Math.atan2(aa*f,$),J=Z*f)}var ba=Math.atan2(q,p)*o,ca=b.arotation;I=(I-ba)*a.MathUtils.radDeg+m-ca,I>180?I-=360:I<-180&&(I+=360),b.updateWorldTransformWith(h,i,ca+I*g,b.ascaleX,b.ascaleY,0,0),ca=c.arotation,J=((J+ba)*a.MathUtils.radDeg-c.ashearX)*o+n-ca,J>180?J-=360:J<-180&&(J+=360),c.updateWorldTransformWith(p,q,ca+J*g,c.ascaleX,c.ascaleY,c.ashearX,c.ashearY)},b}();a.IkConstraint=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=a}return a}();a.IkConstraintData=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a,b){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.bones=new Array;for(var c=0,d=a.bones.length;c<d;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findSlot(a.target.name),this.position=a.position,this.spacing=a.spacing,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){var c=this.target.getAttachment();if(c instanceof a.PathAttachment){var d=this.rotateMix,e=this.translateMix,f=e>0,g=d>0;if(f||g){var h=this.data,i=h.spacingMode,j=i==a.SpacingMode.Length,k=h.rotateMode,l=k==a.RotateMode.Tangent,m=k==a.RotateMode.ChainScale,n=this.bones.length,o=l?n:n+1,p=this.bones,q=a.Utils.setArraySize(this.spaces,o),r=null,s=this.spacing;if(m||j){m&&(r=a.Utils.setArraySize(this.lengths,n));for(var t=0,u=o-1;t<u;){var v=p[t],w=v.data.length;if(w<b.epsilon)m&&(r[t]=0),q[++t]=0;else{var x=w*v.a,y=w*v.c,z=Math.sqrt(x*x+y*y);m&&(r[t]=z),q[++t]=(j?w+s:s)*z/w}}}else for(var t=1;t<o;t++)q[t]=s;var A=this.computeWorldPositions(c,o,l,h.positionMode==a.PositionMode.Percent,i==a.SpacingMode.Percent),B=A[0],C=A[1],D=h.offsetRotation,E=!1;if(0==D)E=k==a.RotateMode.Chain;else{E=!1;var F=this.target.bone;D*=F.a*F.d-F.b*F.c>0?a.MathUtils.degRad:-a.MathUtils.degRad}for(var t=0,F=3;t<n;t++,F+=3){var v=p[t];v.worldX+=(B-v.worldX)*e,v.worldY+=(C-v.worldY)*e;var x=A[F],y=A[F+1],G=x-B,H=y-C;if(m){var I=r[t];if(0!=I){var J=(Math.sqrt(G*G+H*H)/I-1)*d+1;v.a*=J,v.c*=J}}if(B=x,C=y,g){var K=v.a,L=v.b,M=v.c,N=v.d,O=0,P=0,Q=0;if(O=l?A[F-1]:0==q[t+1]?A[F+2]:Math.atan2(H,G),O-=Math.atan2(M,K),E){P=Math.cos(O),Q=Math.sin(O);var R=v.data.length;B+=(R*(P*K-Q*M)-G)*d,C+=(R*(Q*K+P*M)-H)*d}else O+=D;O>a.MathUtils.PI?O-=a.MathUtils.PI2:O<-a.MathUtils.PI&&(O+=a.MathUtils.PI2),O*=d,P=Math.cos(O),Q=Math.sin(O),v.a=P*K-Q*M,v.b=P*L-Q*N,v.c=Q*K+P*M,v.d=Q*L+P*N}v.appliedValid=!1}}}},b.prototype.computeWorldPositions=function(c,d,e,f,g){var h=this.target,i=this.position,j=this.spaces,k=a.Utils.setArraySize(this.positions,3*d+2),l=null,m=c.closed,n=c.worldVerticesLength,o=n/6,p=b.NONE;if(!c.constantSpeed){var q=c.lengths;o-=m?1:2;var r=q[o];if(f&&(i*=r),g)for(var s=0;s<d;s++)j[s]*=r;l=a.Utils.setArraySize(this.world,8);for(var s=0,t=0,u=0;s<d;s++,t+=3){var v=j[s];i+=v;var w=i;if(m)w%=r,w<0&&(w+=r),u=0;else{if(w<0){p!=b.BEFORE&&(p=b.BEFORE,c.computeWorldVertices(h,2,4,l,0,2)),this.addBeforePosition(w,l,0,k,t);continue}if(w>r){p!=b.AFTER&&(p=b.AFTER,c.computeWorldVertices(h,n-6,4,l,0,2)),this.addAfterPosition(w-r,l,0,k,t);continue}}for(;;u++){var x=q[u];if(!(w>x)){if(0==u)w/=x;else{var y=q[u-1];w=(w-y)/(x-y)}break}}u!=p&&(p=u,m&&u==o?(c.computeWorldVertices(h,n-4,4,l,0,2),c.computeWorldVertices(h,0,4,l,4,2)):c.computeWorldVertices(h,6*u+2,8,l,0,2)),this.addCurvePosition(w,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],k,t,e||s>0&&0==v)}return k}m?(n+=2,l=a.Utils.setArraySize(this.world,n),c.computeWorldVertices(h,2,n-4,l,0,2),c.computeWorldVertices(h,0,2,l,n-4,2),l[n-2]=l[0],l[n-1]=l[1]):(o--,n-=4,l=a.Utils.setArraySize(this.world,n),c.computeWorldVertices(h,2,n,l,0,2));for(var z=a.Utils.setArraySize(this.curves,o),A=0,B=l[0],C=l[1],D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=0,s=0,R=2;s<o;s++,R+=6)D=l[R],E=l[R+1],F=l[R+2],G=l[R+3],H=l[R+4],I=l[R+5],J=.1875*(B-2*D+F),K=.1875*(C-2*E+G),L=.09375*(3*(D-F)-B+H),M=.09375*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.75*(D-B)+J+.16666667*L,Q=.75*(E-C)+K+.16666667*M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,N+=L,O+=M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,A+=Math.sqrt(P*P+Q*Q),P+=N+L,Q+=O+M,A+=Math.sqrt(P*P+Q*Q),z[s]=A,B=H,C=I;if(f&&(i*=A),g)for(var s=0;s<d;s++)j[s]*=A;for(var S=this.segments,T=0,s=0,t=0,u=0,U=0;s<d;s++,t+=3){var v=j[s];i+=v;var w=i;if(m)w%=A,w<0&&(w+=A),u=0;else{if(w<0){this.addBeforePosition(w,l,0,k,t);continue}if(w>A){this.addAfterPosition(w-A,l,n-4,k,t);continue}}for(;;u++){var V=z[u];if(!(w>V)){if(0==u)w/=V;else{var y=z[u-1];w=(w-y)/(V-y)}break}}if(u!=p){p=u;var W=6*u;for(B=l[W],C=l[W+1],D=l[W+2],E=l[W+3],F=l[W+4],G=l[W+5],H=l[W+6],I=l[W+7],J=.03*(B-2*D+F),K=.03*(C-2*E+G),L=.006*(3*(D-F)-B+H),M=.006*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.3*(D-B)+J+.16666667*L,Q=.3*(E-C)+K+.16666667*M,T=Math.sqrt(P*P+Q*Q),S[0]=T,W=1;W<8;W++)P+=N,Q+=O,N+=L,O+=M,T+=Math.sqrt(P*P+Q*Q),S[W]=T;P+=N,Q+=O,T+=Math.sqrt(P*P+Q*Q),S[8]=T,P+=N+L,Q+=O+M,T+=Math.sqrt(P*P+Q*Q),S[9]=T,U=0}for(w*=T;;U++){var X=S[U];if(!(w>X)){if(0==U)w/=X;else{var y=S[U-1];w=U+(w-y)/(X-y)}break}}this.addCurvePosition(.1*w,B,C,D,E,F,G,H,I,k,t,e||s>0&&0==v)}return k},b.prototype.addBeforePosition=function(a,b,c,d,e){var f=b[c],g=b[c+1],h=b[c+2]-f,i=b[c+3]-g,j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addAfterPosition=function(a,b,c,d,e){var f=b[c+2],g=b[c+3],h=f-b[c],i=g-b[c+1],j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addCurvePosition=function(a,b,c,d,e,f,g,h,i,j,k,l){(0==a||isNaN(a))&&(a=1e-4);var m=a*a,n=m*a,o=1-a,p=o*o,q=p*o,r=o*a,s=3*r,t=o*s,u=s*a,v=b*q+d*t+f*u+h*n,w=c*q+e*t+g*u+i*n;j[k]=v,j[k+1]=w,l&&(j[k+2]=Math.atan2(w-(c*p+e*r*2+g*m),v-(b*p+d*r*2+f*m)))},b.prototype.getOrder=function(){return this.data.order},b.NONE=-1,b.BEFORE=-2,b.AFTER=-3,b.epsilon=1e-5,b}();a.PathConstraint=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a){this.order=0,this.bones=new Array,this.name=a}return a}();a.PathConstraintData=b;var c;!function(a){a[a.Fixed=0]="Fixed",a[a.Percent=1]="Percent"}(c=a.PositionMode||(a.PositionMode={}));var d;!function(a){a[a.Length=0]="Length",a[a.Fixed=1]="Fixed",a[a.Percent=2]="Percent"}(d=a.SpacingMode||(a.SpacingMode={}));var e;!function(a){a[a.Tangent=0]="Tangent",a[a.Chain=1]="Chain",a[a.ChainScale=2]="ChainScale"}(e=a.RotateMode||(a.RotateMode={}))}(spine||(spine={})),function(){Math.fround||(Math.fround=function(a){return function(b){return a[0]=b,a[0]}}(new Float32Array(1)))}();var spine;!function(a){var b=function(){function a(a){this.toLoad=new Array,this.assets={},this.clientId=a}return a.prototype.loaded=function(){var a=0;for(var b in this.assets)a++;return a},a}(),c=function(){function a(a){void 0===a&&(a=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=a}return a.prototype.queueAsset=function(a,c,d){var e=this.clientAssets[a];return null!==e&&void 0!==e||(e=new b(a),this.clientAssets[a]=e),null!==c&&(e.textureLoader=c),e.toLoad.push(d),this.queuedAssets[d]!==d&&(this.queuedAssets[d]=d,!0)},a.prototype.loadText=function(a,b){var c=this;if(b=this.pathPrefix+b,this.queueAsset(a,null,b)){var d=new XMLHttpRequest;d.onreadystatechange=function(){d.readyState==XMLHttpRequest.DONE&&(d.status>=200&&d.status<300?c.rawAssets[b]=d.responseText:c.errors[b]="Couldn't load text "+b+": status "+d.status+", "+d.responseText)},d.open("GET",b,!0),d.send()}},a.prototype.loadJson=function(a,b){var c=this;if(b=this.pathPrefix+b,this.queueAsset(a,null,b)){var d=new XMLHttpRequest;d.onreadystatechange=function(){d.readyState==XMLHttpRequest.DONE&&(d.status>=200&&d.status<300?c.rawAssets[b]=JSON.parse(d.responseText):c.errors[b]="Couldn't load text "+b+": status "+d.status+", "+d.responseText);
},d.open("GET",b,!0),d.send()}},a.prototype.loadTexture=function(a,b,c){var d=this;if(c=this.pathPrefix+c,this.queueAsset(a,b,c)){var e=new Image;e.src=c,e.crossOrigin="anonymous",e.onload=function(a){d.rawAssets[c]=e},e.onerror=function(a){d.errors[c]="Couldn't load image "+c}}},a.prototype.get=function(a,b){b=this.pathPrefix+b;var c=this.clientAssets[a];return null===c||void 0===c||c.assets[b]},a.prototype.updateClientAssets=function(a){for(var b=0;b<a.toLoad.length;b++){var c=a.toLoad[b],d=a.assets[c];if(null===d||void 0===d){var e=this.rawAssets[c];if(null===e||void 0===e)continue;e instanceof HTMLImageElement?a.assets[c]=a.textureLoader(e):a.assets[c]=e}}},a.prototype.isLoadingComplete=function(a){var b=this.clientAssets[a];return null===b||void 0===b||(this.updateClientAssets(b),b.toLoad.length==b.loaded())},a.prototype.dispose=function(){},a.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},a.prototype.getErrors=function(){return this.errors},a}();a.SharedAssetManager=c}(spine||(spine={}));var spine;!function(a){var b=function(){function b(b){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==b)throw new Error("data cannot be null.");this.data=b,this.bones=new Array;for(var c=0;c<b.bones.length;c++){var d=b.bones[c],e=void 0;if(null==d.parent)e=new a.Bone(d,this,null);else{var f=this.bones[d.parent.index];e=new a.Bone(d,this,f),f.children.push(e)}this.bones.push(e)}this.slots=new Array,this.drawOrder=new Array;for(var c=0;c<b.slots.length;c++){var g=b.slots[c],e=this.bones[g.boneData.index],h=new a.Slot(g,e);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var c=0;c<b.ikConstraints.length;c++){var i=b.ikConstraints[c];this.ikConstraints.push(new a.IkConstraint(i,this))}this.transformConstraints=new Array;for(var c=0;c<b.transformConstraints.length;c++){var j=b.transformConstraints[c];this.transformConstraints.push(new a.TransformConstraint(j,this))}this.pathConstraints=new Array;for(var c=0;c<b.pathConstraints.length;c++){var k=b.pathConstraints[c];this.pathConstraints.push(new a.PathConstraint(k,this))}this.color=new a.Color(1,1,1,1),this.updateCache()}return b.prototype.updateCache=function(){var a=this._updateCache;a.length=0,this.updateCacheReset.length=0;for(var b=this.bones,c=0,d=b.length;c<d;c++)b[c].sorted=!1;var e=this.ikConstraints,f=this.transformConstraints,g=this.pathConstraints,h=e.length,i=f.length,j=g.length,k=h+i+j;a:for(var c=0;c<k;c++){for(var l=0;l<h;l++){var m=e[l];if(m.data.order==c){this.sortIkConstraint(m);continue a}}for(var l=0;l<i;l++){var m=f[l];if(m.data.order==c){this.sortTransformConstraint(m);continue a}}for(var l=0;l<j;l++){var m=g[l];if(m.data.order==c){this.sortPathConstraint(m);continue a}}}for(var c=0,d=b.length;c<d;c++)this.sortBone(b[c])},b.prototype.sortIkConstraint=function(a){var b=a.target;this.sortBone(b);var c=a.bones,d=c[0];if(this.sortBone(d),c.length>1){var e=c[c.length-1];this._updateCache.indexOf(e)>-1||this.updateCacheReset.push(e)}this._updateCache.push(a),this.sortReset(d.children),c[c.length-1].sorted=!0},b.prototype.sortPathConstraint=function(b){var c=b.target,d=c.data.index,e=c.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,d,e),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,d,e);for(var f=0,g=this.data.skins.length;f<g;f++)this.sortPathConstraintAttachment(this.data.skins[f],d,e);var h=c.getAttachment();h instanceof a.PathAttachment&&this.sortPathConstraintAttachmentWith(h,e);for(var i=b.bones,j=i.length,f=0;f<j;f++)this.sortBone(i[f]);this._updateCache.push(b);for(var f=0;f<j;f++)this.sortReset(i[f].children);for(var f=0;f<j;f++)i[f].sorted=!0},b.prototype.sortTransformConstraint=function(a){this.sortBone(a.target);var b=a.bones,c=b.length;if(a.data.local)for(var d=0;d<c;d++){var e=b[d];this.sortBone(e.parent),this._updateCache.indexOf(e)>-1||this.updateCacheReset.push(e)}else for(var d=0;d<c;d++)this.sortBone(b[d]);this._updateCache.push(a);for(var f=0;f<c;f++)this.sortReset(b[f].children);for(var f=0;f<c;f++)b[f].sorted=!0},b.prototype.sortPathConstraintAttachment=function(a,b,c){var d=a.attachments[b];if(d)for(var e in d)this.sortPathConstraintAttachmentWith(d[e],c)},b.prototype.sortPathConstraintAttachmentWith=function(b,c){if(b instanceof a.PathAttachment){var d=b.bones;if(null==d)this.sortBone(c);else for(var e=this.bones,f=0;f<d.length;)for(var g=d[f++],h=f+g;f<h;f++){var i=d[f];this.sortBone(e[i])}}},b.prototype.sortBone=function(a){if(!a.sorted){var b=a.parent;null!=b&&this.sortBone(b),a.sorted=!0,this._updateCache.push(a)}},b.prototype.sortReset=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];d.sorted&&this.sortReset(d.children),d.sorted=!1}},b.prototype.updateWorldTransform=function(){for(var a=this.updateCacheReset,b=0,c=a.length;b<c;b++){var d=a[b];d.ax=d.x,d.ay=d.y,d.arotation=d.rotation,d.ascaleX=d.scaleX,d.ascaleY=d.scaleY,d.ashearX=d.shearX,d.ashearY=d.shearY,d.appliedValid=!0}for(var e=this._updateCache,b=0,c=e.length;b<c;b++)e[b].update()},b.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},b.prototype.setBonesToSetupPose=function(){for(var a=this.bones,b=0,c=a.length;b<c;b++)a[b].setToSetupPose();for(var d=this.ikConstraints,b=0,c=d.length;b<c;b++){var e=d[b];e.bendDirection=e.data.bendDirection,e.mix=e.data.mix}for(var f=this.transformConstraints,b=0,c=f.length;b<c;b++){var e=f[b],g=e.data;e.rotateMix=g.rotateMix,e.translateMix=g.translateMix,e.scaleMix=g.scaleMix,e.shearMix=g.shearMix}for(var h=this.pathConstraints,b=0,c=h.length;b<c;b++){var e=h[b],g=e.data;e.position=g.position,e.spacing=g.spacing,e.rotateMix=g.rotateMix,e.translateMix=g.translateMix}},b.prototype.setSlotsToSetupPose=function(){var b=this.slots;a.Utils.arrayCopy(b,0,this.drawOrder,0,b.length);for(var c=0,d=b.length;c<d;c++)b[c].setToSetupPose()},b.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},b.prototype.findBone=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findBoneIndex=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++)if(b[c].data.name==a)return c;return-1},b.prototype.findSlot=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findSlotIndex=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++)if(b[c].data.name==a)return c;return-1},b.prototype.setSkinByName=function(a){var b=this.data.findSkin(a);if(null==b)throw new Error("Skin not found: "+a);this.setSkin(b)},b.prototype.setSkin=function(a){if(null!=a)if(null!=this.skin)a.attachAll(this,this.skin);else for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c],f=e.data.attachmentName;if(null!=f){var g=a.getAttachment(c,f);null!=g&&e.setAttachment(g)}}this.skin=a},b.prototype.getAttachmentByName=function(a,b){return this.getAttachment(this.data.findSlotIndex(a),b)},b.prototype.getAttachment=function(a,b){if(null==b)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var c=this.skin.getAttachment(a,b);if(null!=c)return c}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(a,b):null},b.prototype.setAttachment=function(a,b){if(null==a)throw new Error("slotName cannot be null.");for(var c=this.slots,d=0,e=c.length;d<e;d++){var f=c[d];if(f.data.name==a){var g=null;if(null!=b&&(g=this.getAttachment(d,b),null==g))throw new Error("Attachment not found: "+b+", for slot: "+a);return void f.setAttachment(g)}}throw new Error("Slot not found: "+a)},b.prototype.findIkConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.ikConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findTransformConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.transformConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findPathConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.getBounds=function(b,c,d){if(null==b)throw new Error("offset cannot be null.");if(null==c)throw new Error("size cannot be null.");for(var e=this.drawOrder,f=Number.POSITIVE_INFINITY,g=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,j=0,k=e.length;j<k;j++){var l=e[j],m=0,n=null,o=l.getAttachment();if(o instanceof a.RegionAttachment)m=8,n=a.Utils.setArraySize(d,m,0),o.computeWorldVertices(l.bone,n,0,2);else if(o instanceof a.MeshAttachment){var p=o;m=p.worldVerticesLength,n=a.Utils.setArraySize(d,m,0),p.computeWorldVertices(l,0,m,n,0,2)}if(null!=n)for(var q=0,r=n.length;q<r;q+=2){var s=n[q],t=n[q+1];f=Math.min(f,s),g=Math.min(g,t),h=Math.max(h,s),i=Math.max(i,t)}}b.set(f,g),c.set(h-f,i-g)},b.prototype.update=function(a){this.time+=a},b}();a.Skeleton=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new a.Pool(function(){return a.Utils.newFloatArray(16)})}return b.prototype.update=function(b,c){if(null==b)throw new Error("skeleton cannot be null.");var d=this.boundingBoxes,e=this.polygons,f=this.polygonPool,g=b.slots,h=g.length;d.length=0,f.freeAll(e),e.length=0;for(var i=0;i<h;i++){var j=g[i],k=j.getAttachment();if(k instanceof a.BoundingBoxAttachment){var l=k;d.push(l);var m=f.obtain();m.length!=l.worldVerticesLength&&(m=a.Utils.newFloatArray(l.worldVerticesLength)),e.push(m),l.computeWorldVertices(j,0,l.worldVerticesLength,m,0,2)}}c?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},b.prototype.aabbCompute=function(){for(var a=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=this.polygons,f=0,g=e.length;f<g;f++)for(var h=e[f],i=h,j=0,k=h.length;j<k;j+=2){var l=i[j],m=i[j+1];a=Math.min(a,l),b=Math.min(b,m),c=Math.max(c,l),d=Math.max(d,m)}this.minX=a,this.minY=b,this.maxX=c,this.maxY=d},b.prototype.aabbContainsPoint=function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY&&b<=this.maxY},b.prototype.aabbIntersectsSegment=function(a,b,c,d){var e=this.minX,f=this.minY,g=this.maxX,h=this.maxY;if(a<=e&&c<=e||b<=f&&d<=f||a>=g&&c>=g||b>=h&&d>=h)return!1;var i=(d-b)/(c-a),j=i*(e-a)+b;if(j>f&&j<h)return!0;if(j=i*(g-a)+b,j>f&&j<h)return!0;var k=(f-b)/i+a;return k>e&&k<g||(k=(h-b)/i+a,k>e&&k<g)},b.prototype.aabbIntersectsSkeleton=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},b.prototype.containsPoint=function(a,b){for(var c=this.polygons,d=0,e=c.length;d<e;d++)if(this.containsPointPolygon(c[d],a,b))return this.boundingBoxes[d];return null},b.prototype.containsPointPolygon=function(a,b,c){for(var d=a,e=a.length,f=e-2,g=!1,h=0;h<e;h+=2){var i=d[h+1],j=d[f+1];if(i<c&&j>=c||j<c&&i>=c){var k=d[h];k+(c-i)/(j-i)*(d[f]-k)<b&&(g=!g)}f=h}return g},b.prototype.intersectsSegment=function(a,b,c,d){for(var e=this.polygons,f=0,g=e.length;f<g;f++)if(this.intersectsSegmentPolygon(e[f],a,b,c,d))return this.boundingBoxes[f];return null},b.prototype.intersectsSegmentPolygon=function(a,b,c,d,e){for(var f=a,g=a.length,h=b-d,i=c-e,j=b*e-c*d,k=f[g-2],l=f[g-1],m=0;m<g;m+=2){var n=f[m],o=f[m+1],p=k*o-l*n,q=k-n,r=l-o,s=h*r-i*q,t=(j*q-h*p)/s;if((t>=k&&t<=n||t>=n&&t<=k)&&(t>=b&&t<=d||t>=d&&t<=b)){var u=(j*r-i*p)/s;if((u>=l&&u<=o||u>=o&&u<=l)&&(u>=c&&u<=e||u>=e&&u<=c))return!0}k=n,l=o}return!1},b.prototype.getPolygon=function(a){if(null==a)throw new Error("boundingBox cannot be null.");var b=this.boundingBoxes.indexOf(a);return b==-1?null:this.polygons[b]},b.prototype.getWidth=function(){return this.maxX-this.minX},b.prototype.getHeight=function(){return this.maxY-this.minY},b}();a.SkeletonBounds=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(){this.triangulator=new a.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return b.prototype.clipStart=function(c,d){if(null!=this.clipAttachment)return 0;this.clipAttachment=d;var e=d.worldVerticesLength,f=a.Utils.setArraySize(this.clippingPolygon,e);d.computeWorldVertices(c,0,e,f,0,2);var g=this.clippingPolygon;b.makeClockwise(g);for(var h=this.clippingPolygons=this.triangulator.decompose(g,this.triangulator.triangulate(g)),i=0,j=h.length;i<j;i++){var k=h[i];b.makeClockwise(k),k.push(k[0]),k.push(k[1])}return h.length},b.prototype.clipEndWithSlot=function(a){null!=this.clipAttachment&&this.clipAttachment.endSlot==a.data&&this.clipEnd()},b.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},b.prototype.isClipping=function(){return null!=this.clipAttachment},b.prototype.clipTriangles=function(b,c,d,e,f,g,h,i){var j=this.clipOutput,k=this.clippedVertices,l=this.clippedTriangles,m=this.clippingPolygons,n=this.clippingPolygons.length,o=i?12:8,p=0;k.length=0,l.length=0;a:for(var q=0;q<e;q+=3){var r=d[q]<<1,s=b[r],t=b[r+1],u=f[r],v=f[r+1];r=d[q+1]<<1;var w=b[r],x=b[r+1],y=f[r],z=f[r+1];r=d[q+2]<<1;for(var A=b[r],B=b[r+1],C=f[r],D=f[r+1],E=0;E<n;E++){var F=k.length;if(!this.clip(s,t,w,x,A,B,m[E],j)){var G=a.Utils.setArraySize(k,F+3*o);G[F]=s,G[F+1]=t,G[F+2]=g.r,G[F+3]=g.g,G[F+4]=g.b,G[F+5]=g.a,i?(G[F+6]=u,G[F+7]=v,G[F+8]=h.r,G[F+9]=h.g,G[F+10]=h.b,G[F+11]=h.a,G[F+12]=w,G[F+13]=x,G[F+14]=g.r,G[F+15]=g.g,G[F+16]=g.b,G[F+17]=g.a,G[F+18]=y,G[F+19]=z,G[F+20]=h.r,G[F+21]=h.g,G[F+22]=h.b,G[F+23]=h.a,G[F+24]=A,G[F+25]=B,G[F+26]=g.r,G[F+27]=g.g,G[F+28]=g.b,G[F+29]=g.a,G[F+30]=C,G[F+31]=D,G[F+32]=h.r,G[F+33]=h.g,G[F+34]=h.b,G[F+35]=h.a):(G[F+6]=u,G[F+7]=v,G[F+8]=w,G[F+9]=x,G[F+10]=g.r,G[F+11]=g.g,G[F+12]=g.b,G[F+13]=g.a,G[F+14]=y,G[F+15]=z,G[F+16]=A,G[F+17]=B,G[F+18]=g.r,G[F+19]=g.g,G[F+20]=g.b,G[F+21]=g.a,G[F+22]=C,G[F+23]=D),F=l.length;var H=a.Utils.setArraySize(l,F+3);H[F]=p,H[F+1]=p+1,H[F+2]=p+2,p+=3;continue a}var I=j.length;if(0!=I){for(var J=x-B,K=A-w,L=s-A,M=B-t,N=1/(J*L+K*(t-B)),O=I>>1,P=this.clipOutput,G=a.Utils.setArraySize(k,F+O*o),Q=0;Q<I;Q+=2){var R=P[Q],S=P[Q+1];G[F]=R,G[F+1]=S,G[F+2]=g.r,G[F+3]=g.g,G[F+4]=g.b,G[F+5]=g.a;var T=R-A,U=S-B,V=(J*T+K*U)*N,W=(M*T+L*U)*N,X=1-V-W;G[F+6]=u*V+y*W+C*X,G[F+7]=v*V+z*W+D*X,i&&(G[F+8]=h.r,G[F+9]=h.g,G[F+10]=h.b,G[F+11]=h.a),F+=o}F=l.length;var H=a.Utils.setArraySize(l,F+3*(O-2));O--;for(var Q=1;Q<O;Q++)H[F]=p,H[F+1]=p+Q,H[F+2]=p+Q+1,F+=3;p+=O+1}}}},b.prototype.clip=function(a,b,c,d,e,f,g,h){var i=h,j=!1,k=null;g.length%4>=2?(k=h,h=this.scratch):k=this.scratch,k.length=0,k.push(a),k.push(b),k.push(c),k.push(d),k.push(e),k.push(f),k.push(a),k.push(b),h.length=0;for(var l=g,m=g.length-4,n=0;;n+=2){for(var o=l[n],p=l[n+1],q=l[n+2],r=l[n+3],s=o-q,t=p-r,u=k,v=k.length-2,w=h.length,x=0;x<v;x+=2){var y=u[x],z=u[x+1],A=u[x+2],B=u[x+3],C=s*(B-r)-t*(A-q)>0;if(s*(z-r)-t*(y-q)>0){if(C){h.push(A),h.push(B);continue}var D=B-z,E=A-y,F=(E*(p-z)-D*(o-y))/(D*(q-o)-E*(r-p));h.push(o+(q-o)*F),h.push(p+(r-p)*F)}else if(C){var D=B-z,E=A-y,F=(E*(p-z)-D*(o-y))/(D*(q-o)-E*(r-p));h.push(o+(q-o)*F),h.push(p+(r-p)*F),h.push(A),h.push(B)}j=!0}if(w==h.length)return i.length=0,!0;if(h.push(h[0]),h.push(h[1]),n==m)break;var G=h;h=k,h.length=0,k=G}if(i!=h){i.length=0;for(var n=0,H=h.length-2;n<H;n++)i[n]=h[n]}else i.length=i.length-2;return j},b.makeClockwise=function(a){for(var b=a,c=a.length,d=b[c-2]*b[1]-b[0]*b[c-1],e=0,f=0,g=0,h=0,i=0,j=c-3;i<j;i+=2)e=b[i],f=b[i+1],g=b[i+2],h=b[i+3],d+=e*h-g*f;if(!(d<0))for(var i=0,k=c-2,j=c>>1;i<j;i+=2){var l=b[i],m=b[i+1],n=k-i;b[i]=b[n],b[i+1]=b[n+1],b[n]=l,b[n+1]=m}},b}();a.SkeletonClipping=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return a.prototype.findBone=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findBoneIndex=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a.prototype.findSlot=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findSlotIndex=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a.prototype.findSkin=function(a){if(null==a)throw new Error("skinName cannot be null.");for(var b=this.skins,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findEvent=function(a){if(null==a)throw new Error("eventDataName cannot be null.");for(var b=this.events,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findAnimation=function(a){if(null==a)throw new Error("animationName cannot be null.");for(var b=this.animations,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findIkConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.ikConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findTransformConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.transformConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findPathConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findPathConstraintIndex=function(a){if(null==a)throw new Error("pathConstraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a}();a.SkeletonData=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=a}return b.prototype.readSkeletonData=function(c){var d=this.scale,e=new a.SkeletonData,f="string"==typeof c?JSON.parse(c):c,g=f.skeleton;if(null!=g&&(e.hash=g.hash,e.version=g.spine,e.width=g.width,e.height=g.height,e.fps=g.fps,e.imagesPath=g.images),f.bones)for(var h=0;h<f.bones.length;h++){var i=f.bones[h],j=null,k=this.getValue(i,"parent",null);if(null!=k&&(j=e.findBone(k),null==j))throw new Error("Parent bone not found: "+k);var l=new a.BoneData(e.bones.length,i.name,j);l.length=this.getValue(i,"length",0)*d,l.x=this.getValue(i,"x",0)*d,l.y=this.getValue(i,"y",0)*d,l.rotation=this.getValue(i,"rotation",0),l.scaleX=this.getValue(i,"scaleX",1),l.scaleY=this.getValue(i,"scaleY",1),l.shearX=this.getValue(i,"shearX",0),l.shearY=this.getValue(i,"shearY",0),l.transformMode=b.transformModeFromString(this.getValue(i,"transform","normal")),e.bones.push(l)}if(f.slots)for(var h=0;h<f.slots.length;h++){var m=f.slots[h],n=m.name,o=m.bone,p=e.findBone(o);if(null==p)throw new Error("Slot bone not found: "+o);var l=new a.SlotData(e.slots.length,n,p),q=this.getValue(m,"color",null);null!=q&&l.color.setFromString(q);var r=this.getValue(m,"dark",null);null!=r&&(l.darkColor=new a.Color(1,1,1,1),l.darkColor.setFromString(r)),l.attachmentName=this.getValue(m,"attachment",null),l.blendMode=b.blendModeFromString(this.getValue(m,"blend","normal")),e.slots.push(l)}if(f.ik)for(var h=0;h<f.ik.length;h++){var s=f.ik[h],l=new a.IkConstraintData(s.name);l.order=this.getValue(s,"order",0);for(var t=0;t<s.bones.length;t++){var o=s.bones[t],u=e.findBone(o);if(null==u)throw new Error("IK bone not found: "+o);l.bones.push(u)}var v=s.target;if(l.target=e.findBone(v),null==l.target)throw new Error("IK target bone not found: "+v);l.bendDirection=this.getValue(s,"bendPositive",!0)?1:-1,l.mix=this.getValue(s,"mix",1),e.ikConstraints.push(l)}if(f.transform)for(var h=0;h<f.transform.length;h++){var s=f.transform[h],l=new a.TransformConstraintData(s.name);l.order=this.getValue(s,"order",0);for(var t=0;t<s.bones.length;t++){var o=s.bones[t],u=e.findBone(o);if(null==u)throw new Error("Transform constraint bone not found: "+o);l.bones.push(u)}var v=s.target;if(l.target=e.findBone(v),null==l.target)throw new Error("Transform constraint target bone not found: "+v);l.local=this.getValue(s,"local",!1),l.relative=this.getValue(s,"relative",!1),l.offsetRotation=this.getValue(s,"rotation",0),l.offsetX=this.getValue(s,"x",0)*d,l.offsetY=this.getValue(s,"y",0)*d,l.offsetScaleX=this.getValue(s,"scaleX",0),l.offsetScaleY=this.getValue(s,"scaleY",0),l.offsetShearY=this.getValue(s,"shearY",0),l.rotateMix=this.getValue(s,"rotateMix",1),l.translateMix=this.getValue(s,"translateMix",1),l.scaleMix=this.getValue(s,"scaleMix",1),l.shearMix=this.getValue(s,"shearMix",1),e.transformConstraints.push(l)}if(f.path)for(var h=0;h<f.path.length;h++){var s=f.path[h],l=new a.PathConstraintData(s.name);l.order=this.getValue(s,"order",0);for(var t=0;t<s.bones.length;t++){var o=s.bones[t],u=e.findBone(o);if(null==u)throw new Error("Transform constraint bone not found: "+o);l.bones.push(u)}var v=s.target;if(l.target=e.findSlot(v),null==l.target)throw new Error("Path target slot not found: "+v);l.positionMode=b.positionModeFromString(this.getValue(s,"positionMode","percent")),l.spacingMode=b.spacingModeFromString(this.getValue(s,"spacingMode","length")),l.rotateMode=b.rotateModeFromString(this.getValue(s,"rotateMode","tangent")),l.offsetRotation=this.getValue(s,"rotation",0),l.position=this.getValue(s,"position",0),l.positionMode==a.PositionMode.Fixed&&(l.position*=d),l.spacing=this.getValue(s,"spacing",0),l.spacingMode!=a.SpacingMode.Length&&l.spacingMode!=a.SpacingMode.Fixed||(l.spacing*=d),l.rotateMix=this.getValue(s,"rotateMix",1),l.translateMix=this.getValue(s,"translateMix",1),e.pathConstraints.push(l)}if(f.skins)for(var w in f.skins){var x=f.skins[w],y=new a.Skin(w);for(var n in x){var z=e.findSlotIndex(n);if(z==-1)throw new Error("Slot not found: "+n);var m=x[n];for(var A in m){var B=this.readAttachment(m[A],y,z,A,e);null!=B&&y.addAttachment(z,A,B)}}e.skins.push(y),"default"==y.name&&(e.defaultSkin=y)}for(var h=0,C=this.linkedMeshes.length;h<C;h++){var D=this.linkedMeshes[h],y=null==D.skin?e.defaultSkin:e.findSkin(D.skin);if(null==y)throw new Error("Skin not found: "+D.skin);var E=y.getAttachment(D.slotIndex,D.parent);if(null==E)throw new Error("Parent mesh not found: "+D.parent);D.mesh.setParentMesh(E),D.mesh.updateUVs()}if(this.linkedMeshes.length=0,f.events)for(var F in f.events){var G=f.events[F],l=new a.EventData(F);l.intValue=this.getValue(G,"int",0),l.floatValue=this.getValue(G,"float",0),l.stringValue=this.getValue(G,"string",""),e.events.push(l)}if(f.animations)for(var H in f.animations){var I=f.animations[H];this.readAnimation(I,H,e)}return e},b.prototype.readAttachment=function(b,d,e,f,g){var h=this.scale;f=this.getValue(b,"name",f);var i=this.getValue(b,"type","region");switch(i){case"region":var j=this.getValue(b,"path",f),k=this.attachmentLoader.newRegionAttachment(d,f,j);if(null==k)return null;k.path=j,k.x=this.getValue(b,"x",0)*h,k.y=this.getValue(b,"y",0)*h,k.scaleX=this.getValue(b,"scaleX",1),k.scaleY=this.getValue(b,"scaleY",1),k.rotation=this.getValue(b,"rotation",0),k.width=b.width*h,k.height=b.height*h;var l=this.getValue(b,"color",null);return null!=l&&k.color.setFromString(l),k.updateOffset(),k;case"boundingbox":var m=this.attachmentLoader.newBoundingBoxAttachment(d,f);if(null==m)return null;this.readVertices(b,m,b.vertexCount<<1);var l=this.getValue(b,"color",null);return null!=l&&m.color.setFromString(l),m;case"mesh":case"linkedmesh":var j=this.getValue(b,"path",f),n=this.attachmentLoader.newMeshAttachment(d,f,j);if(null==n)return null;n.path=j;var l=this.getValue(b,"color",null);null!=l&&n.color.setFromString(l);var o=this.getValue(b,"parent",null);if(null!=o)return n.inheritDeform=this.getValue(b,"deform",!0),this.linkedMeshes.push(new c(n,this.getValue(b,"skin",null),e,o)),n;var p=b.uvs;return this.readVertices(b,n,p.length),n.triangles=b.triangles,n.regionUVs=p,n.updateUVs(),n.hullLength=2*this.getValue(b,"hull",0),n;case"path":var j=this.attachmentLoader.newPathAttachment(d,f);if(null==j)return null;j.closed=this.getValue(b,"closed",!1),j.constantSpeed=this.getValue(b,"constantSpeed",!0);var q=b.vertexCount;this.readVertices(b,j,q<<1);for(var r=a.Utils.newArray(q/3,0),s=0;s<b.lengths.length;s++)r[s]=b.lengths[s]*h;j.lengths=r;var l=this.getValue(b,"color",null);return null!=l&&j.color.setFromString(l),j;case"point":var t=this.attachmentLoader.newPointAttachment(d,f);if(null==t)return null;t.x=this.getValue(b,"x",0)*h,t.y=this.getValue(b,"y",0)*h,t.rotation=this.getValue(b,"rotation",0);var l=this.getValue(b,"color",null);return null!=l&&t.color.setFromString(l),t;case"clipping":var u=this.attachmentLoader.newClippingAttachment(d,f);if(null==u)return null;var v=this.getValue(b,"end",null);if(null!=v){var w=g.findSlot(v);if(null==w)throw new Error("Clipping end slot not found: "+v);u.endSlot=w}var q=b.vertexCount;this.readVertices(b,u,q<<1);var l=this.getValue(b,"color",null);return null!=l&&u.color.setFromString(l),u}return null},b.prototype.readVertices=function(b,c,d){var e=this.scale;c.worldVerticesLength=d;var f=b.vertices;if(d==f.length){var g=a.Utils.toFloatArray(f);if(1!=e)for(var h=0,i=f.length;h<i;h++)g[h]*=e;return void(c.vertices=g)}for(var j=new Array,k=new Array,h=0,i=f.length;h<i;){var l=f[h++];k.push(l);for(var m=h+4*l;h<m;h+=4)k.push(f[h]),j.push(f[h+1]*e),j.push(f[h+2]*e),j.push(f[h+3])}c.bones=k,c.vertices=a.Utils.toFloatArray(j)},b.prototype.readAnimation=function(b,c,d){var e=this.scale,f=new Array,g=0;if(b.slots)for(var h in b.slots){var i=b.slots[h],j=d.findSlotIndex(h);if(j==-1)throw new Error("Slot not found: "+h);for(var k in i){var l=i[k];if("attachment"==k){var m=new a.AttachmentTimeline(l.length);m.slotIndex=j;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n++,p.time,p.name)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}else if("color"==k){var m=new a.ColorTimeline(l.length);m.slotIndex=j;for(var n=0,o=0;o<l.length;o++){var p=l[o],q=new a.Color;q.setFromString(p.color),m.setFrame(n,p.time,q.r,q.g,q.b,q.a),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.ColorTimeline.ENTRIES])}else{if("twoColor"!=k)throw new Error("Invalid timeline type for a slot: "+k+" ("+h+")");var m=new a.TwoColorTimeline(l.length);m.slotIndex=j;for(var n=0,o=0;o<l.length;o++){var p=l[o],r=new a.Color,s=new a.Color;r.setFromString(p.light),s.setFromString(p.dark),m.setFrame(n,p.time,r.r,r.g,r.b,r.a,s.r,s.g,s.b),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TwoColorTimeline.ENTRIES])}}}if(b.bones)for(var t in b.bones){var u=b.bones[t],v=d.findBoneIndex(t);if(v==-1)throw new Error("Bone not found: "+t);for(var k in u){var l=u[k];if("rotate"===k){var m=new a.RotateTimeline(l.length);m.boneIndex=v;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,p.angle),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.RotateTimeline.ENTRIES])}else{if("translate"!==k&&"scale"!==k&&"shear"!==k)throw new Error("Invalid timeline type for a bone: "+k+" ("+t+")");var m=null,w=1;"scale"===k?m=new a.ScaleTimeline(l.length):"shear"===k?m=new a.ShearTimeline(l.length):(m=new a.TranslateTimeline(l.length),w=e),m.boneIndex=v;for(var n=0,o=0;o<l.length;o++){var p=l[o],x=this.getValue(p,"x",0),y=this.getValue(p,"y",0);m.setFrame(n,p.time,x*w,y*w),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TranslateTimeline.ENTRIES])}}}if(b.ik)for(var z in b.ik){var A=b.ik[z],B=d.findIkConstraint(z),m=new a.IkConstraintTimeline(A.length);m.ikConstraintIndex=d.ikConstraints.indexOf(B);for(var n=0,o=0;o<A.length;o++){var p=A[o];m.setFrame(n,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.IkConstraintTimeline.ENTRIES])}if(b.transform)for(var z in b.transform){var A=b.transform[z],B=d.findTransformConstraint(z),m=new a.TransformConstraintTimeline(A.length);m.transformConstraintIndex=d.transformConstraints.indexOf(B);for(var n=0,o=0;o<A.length;o++){var p=A[o];m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TransformConstraintTimeline.ENTRIES])}if(b.paths)for(var z in b.paths){var A=b.paths[z],C=d.findPathConstraintIndex(z);if(C==-1)throw new Error("Path constraint not found: "+z);var D=d.pathConstraints[C];for(var k in A){var l=A[k];if("position"===k||"spacing"===k){var m=null,w=1;"spacing"===k?(m=new a.PathConstraintSpacingTimeline(l.length),D.spacingMode!=a.SpacingMode.Length&&D.spacingMode!=a.SpacingMode.Fixed||(w=e)):(m=new a.PathConstraintPositionTimeline(l.length),D.positionMode==a.PositionMode.Fixed&&(w=e)),m.pathConstraintIndex=C;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,this.getValue(p,k,0)*w),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===k){var m=new a.PathConstraintMixTimeline(l.length);m.pathConstraintIndex=C;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintMixTimeline.ENTRIES])}}}if(b.deform)for(var E in b.deform){var F=b.deform[E],G=d.findSkin(E);if(null==G)throw new Error("Skin not found: "+E);for(var h in F){var i=F[h],j=d.findSlotIndex(h);if(j==-1)throw new Error("Slot not found: "+i.name);for(var k in i){var l=i[k],H=G.getAttachment(j,k);if(null==H)throw new Error("Deform attachment not found: "+l.name);var I=null!=H.bones,J=H.vertices,K=I?J.length/3*2:J.length,m=new a.DeformTimeline(l.length);m.slotIndex=j,m.attachment=H;for(var n=0,L=0;L<l.length;L++){var p=l[L],M=void 0,N=this.getValue(p,"vertices",null);if(null==N)M=I?a.Utils.newFloatArray(K):J;else{M=a.Utils.newFloatArray(K);var O=this.getValue(p,"offset",0);if(a.Utils.arrayCopy(N,0,M,O,N.length),1!=e)for(var o=O,P=o+N.length;o<P;o++)M[o]*=e;if(!I)for(var o=0;o<K;o++)M[o]+=J[o]}m.setFrame(n,p.time,M),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}}}var Q=b.drawOrder;if(null==Q&&(Q=b.draworder),null!=Q){for(var m=new a.DrawOrderTimeline(Q.length),R=d.slots.length,n=0,L=0;L<Q.length;L++){var S=Q[L],T=null,U=this.getValue(S,"offsets",null);if(null!=U){T=a.Utils.newArray(R,-1);for(var V=a.Utils.newArray(R-U.length,0),W=0,X=0,o=0;o<U.length;o++){var Y=U[o],j=d.findSlotIndex(Y.slot);if(j==-1)throw new Error("Slot not found: "+Y.slot);for(;W!=j;)V[X++]=W++;T[W+Y.offset]=W++}for(;W<R;)V[X++]=W++;for(var o=R-1;o>=0;o--)T[o]==-1&&(T[o]=V[--X])}m.setFrame(n++,S.time,T)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(b.events){for(var m=new a.EventTimeline(b.events.length),n=0,o=0;o<b.events.length;o++){var Z=b.events[o],$=d.findEvent(Z.name);if(null==$)throw new Error("Event not found: "+Z.name);
var _=new a.Event(a.Utils.toSinglePrecision(Z.time),$);_.intValue=this.getValue(Z,"int",$.intValue),_.floatValue=this.getValue(Z,"float",$.floatValue),_.stringValue=this.getValue(Z,"string",$.stringValue),m.setFrame(n++,_)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(isNaN(g))throw new Error("Error while parsing animation, duration is NaN");d.animations.push(new a.Animation(c,f,g))},b.prototype.readCurve=function(a,b,c){if(a.curve)if("stepped"===a.curve)b.setStepped(c);else if("[object Array]"===Object.prototype.toString.call(a.curve)){var d=a.curve;b.setCurve(c,d[0],d[1],d[2],d[3])}},b.prototype.getValue=function(a,b,c){return void 0!==a[b]?a[b]:c},b.blendModeFromString=function(b){if(b=b.toLowerCase(),"normal"==b)return a.BlendMode.Normal;if("additive"==b)return a.BlendMode.Additive;if("multiply"==b)return a.BlendMode.Multiply;if("screen"==b)return a.BlendMode.Screen;throw new Error("Unknown blend mode: "+b)},b.positionModeFromString=function(b){if(b=b.toLowerCase(),"fixed"==b)return a.PositionMode.Fixed;if("percent"==b)return a.PositionMode.Percent;throw new Error("Unknown position mode: "+b)},b.spacingModeFromString=function(b){if(b=b.toLowerCase(),"length"==b)return a.SpacingMode.Length;if("fixed"==b)return a.SpacingMode.Fixed;if("percent"==b)return a.SpacingMode.Percent;throw new Error("Unknown position mode: "+b)},b.rotateModeFromString=function(b){if(b=b.toLowerCase(),"tangent"==b)return a.RotateMode.Tangent;if("chain"==b)return a.RotateMode.Chain;if("chainscale"==b)return a.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+b)},b.transformModeFromString=function(b){if(b=b.toLowerCase(),"normal"==b)return a.TransformMode.Normal;if("onlytranslation"==b)return a.TransformMode.OnlyTranslation;if("norotationorreflection"==b)return a.TransformMode.NoRotationOrReflection;if("noscale"==b)return a.TransformMode.NoScale;if("noscaleorreflection"==b)return a.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+b)},b}();a.SkeletonJson=b;var c=function(){function a(a,b,c,d){this.mesh=a,this.skin=b,this.slotIndex=c,this.parent=d}return a}()}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a){if(this.attachments=new Array,null==a)throw new Error("name cannot be null.");this.name=a}return a.prototype.addAttachment=function(a,b,c){if(null==c)throw new Error("attachment cannot be null.");var d=this.attachments;a>=d.length&&(d.length=a+1),d[a]||(d[a]={}),d[a][b]=c},a.prototype.getAttachment=function(a,b){var c=this.attachments[a];return c?c[b]:null},a.prototype.attachAll=function(a,b){for(var c=0,d=0;d<a.slots.length;d++){var e=a.slots[d],f=e.getAttachment();if(f&&c<b.attachments.length){var g=b.attachments[c];for(var h in g){var i=g[h];if(f==i){var j=this.getAttachment(c,h);null!=j&&e.setAttachment(j);break}}}c++}},a}();a.Skin=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(b,c){if(this.attachmentVertices=new Array,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("bone cannot be null.");this.data=b,this.bone=c,this.color=new a.Color,this.darkColor=null==b.darkColor?null:new a.Color,this.setToSetupPose()}return b.prototype.getAttachment=function(){return this.attachment},b.prototype.setAttachment=function(a){this.attachment!=a&&(this.attachment=a,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},b.prototype.setAttachmentTime=function(a){this.attachmentTime=this.bone.skeleton.time-a},b.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},b.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},b}();a.Slot=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(b,c,d){if(this.color=new a.Color(1,1,1,1),b<0)throw new Error("index must be >= 0.");if(null==c)throw new Error("name cannot be null.");if(null==d)throw new Error("boneData cannot be null.");this.index=b,this.name=c,this.boneData=d}return b}();a.SlotData=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a,b){this.pages=new Array,this.regions=new Array,this.load(a,b)}return b.prototype.load=function(b,f){if(null==f)throw new Error("textureLoader cannot be null.");for(var g=new c(b),h=new Array(4),i=null;;){var j=g.readLine();if(null==j)break;if(j=j.trim(),0==j.length)i=null;else if(i){var k=new e;k.name=j,k.page=i,k.rotate="true"==g.readValue(),g.readTuple(h);var l=parseInt(h[0]),m=parseInt(h[1]);g.readTuple(h);var n=parseInt(h[0]),o=parseInt(h[1]);k.u=l/i.width,k.v=m/i.height,k.rotate?(k.u2=(l+o)/i.width,k.v2=(m+n)/i.height):(k.u2=(l+n)/i.width,k.v2=(m+o)/i.height),k.x=l,k.y=m,k.width=Math.abs(n),k.height=Math.abs(o),4==g.readTuple(h)&&4==g.readTuple(h)&&g.readTuple(h),k.originalWidth=parseInt(h[0]),k.originalHeight=parseInt(h[1]),g.readTuple(h),k.offsetX=parseInt(h[0]),k.offsetY=parseInt(h[1]),k.index=parseInt(g.readValue()),k.texture=i.texture,this.regions.push(k)}else{i=new d,i.name=j,2==g.readTuple(h)&&(i.width=parseInt(h[0]),i.height=parseInt(h[1]),g.readTuple(h)),g.readTuple(h),i.minFilter=a.Texture.filterFromString(h[0]),i.magFilter=a.Texture.filterFromString(h[1]);var p=g.readValue();i.uWrap=a.TextureWrap.ClampToEdge,i.vWrap=a.TextureWrap.ClampToEdge,"x"==p?i.uWrap=a.TextureWrap.Repeat:"y"==p?i.vWrap=a.TextureWrap.Repeat:"xy"==p&&(i.uWrap=i.vWrap=a.TextureWrap.Repeat),i.texture=f(j),i.texture.setFilters(i.minFilter,i.magFilter),i.texture.setWraps(i.uWrap,i.vWrap),i.width=i.texture.getImage().width,i.height=i.texture.getImage().height,this.pages.push(i)}}},b.prototype.findRegion=function(a){for(var b=0;b<this.regions.length;b++)if(this.regions[b].name==a)return this.regions[b];return null},b.prototype.dispose=function(){for(var a=0;a<this.pages.length;a++)this.pages[a].texture.dispose()},b}();a.TextureAtlas=b;var c=function(){function a(a){this.index=0,this.lines=a.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var a=this.readLine(),b=a.indexOf(":");if(b==-1)throw new Error("Invalid line: "+a);return a.substring(b+1).trim()},a.prototype.readTuple=function(a){var b=this.readLine(),c=b.indexOf(":");if(c==-1)throw new Error("Invalid line: "+b);for(var d=0,e=c+1;d<3;d++){var f=b.indexOf(",",e);if(f==-1)break;a[d]=b.substr(e,f-e).trim(),e=f+1}return a[d]=b.substring(e).trim(),d+1},a}(),d=function(){function a(){}return a}();a.TextureAtlasPage=d;var e=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b}(a.TextureRegion);a.TextureAtlasRegion=e}(spine||(spine={}));var spine;!function(a){var b=function(){function b(b,c){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new a.Vector2,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("skeleton cannot be null.");this.data=b,this.rotateMix=b.rotateMix,this.translateMix=b.translateMix,this.scaleMix=b.scaleMix,this.shearMix=b.shearMix,this.bones=new Array;for(var d=0;d<b.bones.length;d++)this.bones.push(c.findBone(b.bones[d].name));this.target=c.findBone(b.target.name)}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},b.prototype.applyAbsoluteWorld=function(){for(var b=this.rotateMix,c=this.translateMix,d=this.scaleMix,e=this.shearMix,f=this.target,g=f.a,h=f.b,i=f.c,j=f.d,k=g*j-h*i>0?a.MathUtils.degRad:-a.MathUtils.degRad,l=this.data.offsetRotation*k,m=this.data.offsetShearY*k,n=this.bones,o=0,p=n.length;o<p;o++){var q=n[o],r=!1;if(0!=b){var s=q.a,t=q.b,u=q.c,v=q.d,w=Math.atan2(i,g)-Math.atan2(u,s)+l;w>a.MathUtils.PI?w-=a.MathUtils.PI2:w<-a.MathUtils.PI&&(w+=a.MathUtils.PI2),w*=b;var x=Math.cos(w),y=Math.sin(w);q.a=x*s-y*u,q.b=x*t-y*v,q.c=y*s+x*u,q.d=y*t+x*v,r=!0}if(0!=c){var z=this.temp;f.localToWorld(z.set(this.data.offsetX,this.data.offsetY)),q.worldX+=(z.x-q.worldX)*c,q.worldY+=(z.y-q.worldY)*c,r=!0}if(d>0){var A=Math.sqrt(q.a*q.a+q.c*q.c),B=Math.sqrt(g*g+i*i);A>1e-5&&(A=(A+(B-A+this.data.offsetScaleX)*d)/A),q.a*=A,q.c*=A,A=Math.sqrt(q.b*q.b+q.d*q.d),B=Math.sqrt(h*h+j*j),A>1e-5&&(A=(A+(B-A+this.data.offsetScaleY)*d)/A),q.b*=A,q.d*=A,r=!0}if(e>0){var t=q.b,v=q.d,C=Math.atan2(v,t),w=Math.atan2(j,h)-Math.atan2(i,g)-(C-Math.atan2(q.c,q.a));w>a.MathUtils.PI?w-=a.MathUtils.PI2:w<-a.MathUtils.PI&&(w+=a.MathUtils.PI2),w=C+(w+m)*e;var A=Math.sqrt(t*t+v*v);q.b=Math.cos(w)*A,q.d=Math.sin(w)*A,r=!0}r&&(q.appliedValid=!1)}},b.prototype.applyRelativeWorld=function(){for(var b=this.rotateMix,c=this.translateMix,d=this.scaleMix,e=this.shearMix,f=this.target,g=f.a,h=f.b,i=f.c,j=f.d,k=g*j-h*i>0?a.MathUtils.degRad:-a.MathUtils.degRad,l=this.data.offsetRotation*k,m=this.data.offsetShearY*k,n=this.bones,o=0,p=n.length;o<p;o++){var q=n[o],r=!1;if(0!=b){var s=q.a,t=q.b,u=q.c,v=q.d,w=Math.atan2(i,g)+l;w>a.MathUtils.PI?w-=a.MathUtils.PI2:w<-a.MathUtils.PI&&(w+=a.MathUtils.PI2),w*=b;var x=Math.cos(w),y=Math.sin(w);q.a=x*s-y*u,q.b=x*t-y*v,q.c=y*s+x*u,q.d=y*t+x*v,r=!0}if(0!=c){var z=this.temp;f.localToWorld(z.set(this.data.offsetX,this.data.offsetY)),q.worldX+=z.x*c,q.worldY+=z.y*c,r=!0}if(d>0){var A=(Math.sqrt(g*g+i*i)-1+this.data.offsetScaleX)*d+1;q.a*=A,q.c*=A,A=(Math.sqrt(h*h+j*j)-1+this.data.offsetScaleY)*d+1,q.b*=A,q.d*=A,r=!0}if(e>0){var w=Math.atan2(j,h)-Math.atan2(i,g);w>a.MathUtils.PI?w-=a.MathUtils.PI2:w<-a.MathUtils.PI&&(w+=a.MathUtils.PI2);var t=q.b,v=q.d;w=Math.atan2(v,t)+(w-a.MathUtils.PI/2+m)*e;var A=Math.sqrt(t*t+v*v);q.b=Math.cos(w)*A,q.d=Math.sin(w)*A,r=!0}r&&(q.appliedValid=!1)}},b.prototype.applyAbsoluteLocal=function(){var a=this.rotateMix,b=this.translateMix,c=this.scaleMix,d=this.shearMix,e=this.target;e.appliedValid||e.updateAppliedTransform();for(var f=this.bones,g=0,h=f.length;g<h;g++){var i=f[g];i.appliedValid||i.updateAppliedTransform();var j=i.arotation;if(0!=a){var k=e.arotation-j+this.data.offsetRotation;k-=360*(16384-(16384.499999999996-k/360|0)),j+=k*a}var l=i.ax,m=i.ay;0!=b&&(l+=(e.ax-l+this.data.offsetX)*b,m+=(e.ay-m+this.data.offsetY)*b);var n=i.ascaleX,o=i.ascaleY;c>0&&(n>1e-5&&(n=(n+(e.ascaleX-n+this.data.offsetScaleX)*c)/n),o>1e-5&&(o=(o+(e.ascaleY-o+this.data.offsetScaleY)*c)/o));var p=i.ashearY;if(d>0){var k=e.ashearY-p+this.data.offsetShearY;k-=360*(16384-(16384.499999999996-k/360|0)),i.shearY+=k*d}i.updateWorldTransformWith(l,m,j,n,o,i.ashearX,p)}},b.prototype.applyRelativeLocal=function(){var a=this.rotateMix,b=this.translateMix,c=this.scaleMix,d=this.shearMix,e=this.target;e.appliedValid||e.updateAppliedTransform();for(var f=this.bones,g=0,h=f.length;g<h;g++){var i=f[g];i.appliedValid||i.updateAppliedTransform();var j=i.arotation;0!=a&&(j+=(e.arotation+this.data.offsetRotation)*a);var k=i.ax,l=i.ay;0!=b&&(k+=(e.ax+this.data.offsetX)*b,l+=(e.ay+this.data.offsetY)*b);var m=i.ascaleX,n=i.ascaleY;c>0&&(m>1e-5&&(m*=(e.ascaleX-1+this.data.offsetScaleX)*c+1),n>1e-5&&(n*=(e.ascaleY-1+this.data.offsetScaleY)*c+1));var o=i.ashearY;d>0&&(o+=(e.ashearY+this.data.offsetShearY)*d),i.updateWorldTransformWith(k,l,j,m,n,i.ashearX,o)}},b.prototype.getOrder=function(){return this.data.order},b}();a.TransformConstraint=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(a){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.TransformConstraintData=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new a.Pool(function(){return new Array}),this.polygonIndicesPool=new a.Pool(function(){return new Array})}return b.prototype.triangulate=function(a){var c=a,d=a.length>>1,e=this.indicesArray;e.length=0;for(var f=0;f<d;f++)e[f]=f;var g=this.isConcaveArray;g.length=0;for(var f=0,h=d;f<h;++f)g[f]=b.isConcave(f,d,c,e);var i=this.triangles;for(i.length=0;d>3;){for(var j=d-1,f=0,k=1;;){a:if(!g[f]){for(var l=e[j]<<1,m=e[f]<<1,n=e[k]<<1,o=c[l],p=c[l+1],q=c[m],r=c[m+1],s=c[n],t=c[n+1],u=(k+1)%d;u!=j;u=(u+1)%d)if(g[u]){var v=e[u]<<1,w=c[v],x=c[v+1];if(b.positiveArea(s,t,o,p,w,x)&&b.positiveArea(o,p,q,r,w,x)&&b.positiveArea(q,r,s,t,w,x))break a}break}if(0==k){do{if(!g[f])break;f--}while(f>0);break}j=f,f=k,k=(k+1)%d}i.push(e[(d+f-1)%d]),i.push(e[f]),i.push(e[(f+1)%d]),e.splice(f,1),g.splice(f,1),d--;var y=(d+f-1)%d,z=f==d?0:f;g[y]=b.isConcave(y,d,c,e),g[z]=b.isConcave(z,d,c,e)}return 3==d&&(i.push(e[2]),i.push(e[0]),i.push(e[1])),i},b.prototype.decompose=function(a,c){var d=a,e=this.convexPolygons;this.polygonPool.freeAll(e),e.length=0;var f=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(f),f.length=0;var g=this.polygonIndicesPool.obtain();g.length=0;var h=this.polygonPool.obtain();h.length=0;for(var i=-1,j=0,k=0,l=c.length;k<l;k+=3){var m=c[k]<<1,n=c[k+1]<<1,o=c[k+2]<<1,p=d[m],q=d[m+1],r=d[n],s=d[n+1],t=d[o],u=d[o+1],v=!1;if(i==m){var w=h.length-4,x=b.winding(h[w],h[w+1],h[w+2],h[w+3],t,u),y=b.winding(t,u,h[0],h[1],h[2],h[3]);x==j&&y==j&&(h.push(t),h.push(u),g.push(o),v=!0)}v||(h.length>0?(e.push(h),f.push(g)):(this.polygonPool.free(h),this.polygonIndicesPool.free(g)),h=this.polygonPool.obtain(),h.length=0,h.push(p),h.push(q),h.push(r),h.push(s),h.push(t),h.push(u),g=this.polygonIndicesPool.obtain(),g.length=0,g.push(m),g.push(n),g.push(o),j=b.winding(p,q,r,s,t,u),i=m)}h.length>0&&(e.push(h),f.push(g));for(var k=0,l=e.length;k<l;k++)if(g=f[k],0!=g.length){var z=g[0],A=g[g.length-1];h=e[k];for(var w=h.length-4,B=h[w],C=h[w+1],D=h[w+2],E=h[w+3],F=h[0],G=h[1],H=h[2],I=h[3],J=b.winding(B,C,D,E,F,G),K=0;K<l;K++)if(K!=k){var L=f[K];if(3==L.length){var M=L[0],N=L[1],O=L[2],P=e[K],t=P[P.length-2],u=P[P.length-1];if(M==z&&N==A){var x=b.winding(B,C,D,E,t,u),y=b.winding(t,u,F,G,H,I);x==J&&y==J&&(P.length=0,L.length=0,h.push(t),h.push(u),g.push(O),B=D,C=E,D=t,E=u,K=0)}}}}for(var k=e.length-1;k>=0;k--)h=e[k],0==h.length&&(e.splice(k,1),this.polygonPool.free(h),g=f[k],f.splice(k,1),this.polygonIndicesPool.free(g));return e},b.isConcave=function(a,b,c,d){var e=d[(b+a-1)%b]<<1,f=d[a]<<1,g=d[(a+1)%b]<<1;return!this.positiveArea(c[e],c[e+1],c[f],c[f+1],c[g],c[g+1])},b.positiveArea=function(a,b,c,d,e,f){return a*(f-d)+c*(b-f)+e*(d-b)>=0},b.winding=function(a,b,c,d,e,f){var g=c-a,h=d-b;return e*h-f*g+g*b-a*h>=0?1:-1},b}();a.Triangulator=b}(spine||(spine={}));var spine;!function(a){var b=function(){function a(){this.array=new Array}return a.prototype.add=function(a){var b=this.contains(a);return this.array[0|a]=0|a,!b},a.prototype.contains=function(a){return void 0!=this.array[0|a]},a.prototype.remove=function(a){this.array[0|a]=void 0},a.prototype.clear=function(){this.array.length=0},a}();a.IntSet=b;var c=function(){function a(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.r=a,this.g=b,this.b=c,this.a=d}return a.prototype.set=function(a,b,c,d){return this.r=a,this.g=b,this.b=c,this.a=d,this.clamp(),this},a.prototype.setFromColor=function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this},a.prototype.setFromString=function(a){return a="#"==a.charAt(0)?a.substr(1):a,this.r=parseInt(a.substr(0,2),16)/255,this.g=parseInt(a.substr(2,2),16)/255,this.b=parseInt(a.substr(4,2),16)/255,this.a=(8!=a.length?255:parseInt(a.substr(6,2),16))/255,this},a.prototype.add=function(a,b,c,d){return this.r+=a,this.g+=b,this.b+=c,this.a+=d,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},a.WHITE=new a(1,1,1,1),a.RED=new a(1,0,0,1),a.GREEN=new a(0,1,0,1),a.BLUE=new a(0,0,1,1),a.MAGENTA=new a(1,0,1,1),a}();a.Color=c;var d=function(){function a(){}return a.clamp=function(a,b,c){return a<b?b:a>c?c:a},a.cosDeg=function(b){return Math.cos(b*a.degRad)},a.sinDeg=function(b){return Math.sin(b*a.degRad)},a.signum=function(a){return a>0?1:a<0?-1:0},a.toInt=function(a){return a>0?Math.floor(a):Math.ceil(a)},a.cbrt=function(a){var b=Math.pow(Math.abs(a),1/3);return a<0?-b:b},a.randomTriangular=function(b,c){return a.randomTriangularWith(b,c,.5*(b+c))},a.randomTriangularWith=function(a,b,c){var d=Math.random(),e=b-a;return d<=(c-a)/e?a+Math.sqrt(d*e*(c-a)):b-Math.sqrt((1-d)*e*(b-c))},a.PI=3.1415927,a.PI2=2*a.PI,a.radiansToDegrees=180/a.PI,a.radDeg=a.radiansToDegrees,a.degreesToRadians=a.PI/180,a.degRad=a.degreesToRadians,a}();a.MathUtils=d;var e=function(){function a(){}return a.prototype.apply=function(a,b,c){return a+(b-a)*this.applyInternal(c)},a}();a.Interpolation=e;var f=function(a){function b(b){var c=a.call(this)||this;return c.power=2,c.power=b,c}return __extends(b,a),b.prototype.applyInternal=function(a){return a<=.5?Math.pow(2*a,this.power)/2:Math.pow(2*(a-1),this.power)/(this.power%2==0?-2:2)+1},b}(e);a.Pow=f;var g=function(a){function b(b){return a.call(this,b)||this}return __extends(b,a),b.prototype.applyInternal=function(a){return Math.pow(a-1,this.power)*(this.power%2==0?-1:1)+1},b}(f);a.PowOut=g;var h=function(){function a(){}return a.arrayCopy=function(a,b,c,d,e){for(var f=b,g=d;f<b+e;f++,g++)c[g]=a[f]},a.setArraySize=function(a,b,c){void 0===c&&(c=0);var d=a.length;if(d==b)return a;if(a.length=b,d<b)for(var e=d;e<b;e++)a[e]=c;return a},a.ensureArrayCapacity=function(b,c,d){return void 0===d&&(d=0),b.length>=c?b:a.setArraySize(b,c,d)},a.newArray=function(a,b){for(var c=new Array(a),d=0;d<a;d++)c[d]=b;return c},a.newFloatArray=function(b){if(a.SUPPORTS_TYPED_ARRAYS)return new Float32Array(b);for(var c=new Array(b),d=0;d<c.length;d++)c[d]=0;return c},a.newShortArray=function(b){if(a.SUPPORTS_TYPED_ARRAYS)return new Int16Array(b);for(var c=new Array(b),d=0;d<c.length;d++)c[d]=0;return c},a.toFloatArray=function(b){return a.SUPPORTS_TYPED_ARRAYS?new Float32Array(b):b},a.toSinglePrecision=function(b){return a.SUPPORTS_TYPED_ARRAYS?Math.fround(b):b},a.webkit602BugfixHelper=function(a,b){},a.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,a}();a.Utils=h;var i=function(){function a(){}return a.logBones=function(a){for(var b=0;b<a.bones.length;b++){var c=a.bones[b];console.log(c.data.name+", "+c.a+", "+c.b+", "+c.c+", "+c.d+", "+c.worldX+", "+c.worldY)}},a}();a.DebugUtils=i;var j=function(){function a(a){this.items=new Array,this.instantiator=a}return a.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},a.prototype.free=function(a){a.reset&&a.reset(),this.items.push(a)},a.prototype.freeAll=function(a){for(var b=0;b<a.length;b++)a[b].reset&&a[b].reset(),this.items[b]=a[b]},a.prototype.clear=function(){this.items.length=0},a}();a.Pool=j;var k=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b}return a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)},a.prototype.normalize=function(){var a=this.length();return 0!=a&&(this.x/=a,this.y/=a),this},a}();a.Vector2=k;var l=function(){function a(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return a.prototype.update=function(){var a=Date.now()/1e3;this.delta=a-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=a,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},a}();a.TimeKeeper=l;var m=function(){function a(a){void 0===a&&(a=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(a)}return a.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},a.prototype.addValue=function(a){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=a,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},a.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var a=0,b=0;b<this.values.length;b++)a+=this.values[b];this.mean=a/this.values.length,this.dirty=!1}return this.mean}return 0},a}();a.WindowedMean=m}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a,b){this.jitterX=0,this.jitterY=0,this.jitterX=a,this.jitterY=b}return b.prototype.begin=function(a){},b.prototype.transform=function(b,c,d,e){b.x+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY),b.y+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},b.prototype.end=function(){},b}();a.JitterEffect=b}(spine||(spine={}));var spine;!function(a){var b=function(){function b(a){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=a}return b.prototype.begin=function(a){this.worldX=a.x+this.centerX,this.worldY=a.y+this.centerY},b.prototype.transform=function(c,d,e,f){var g=this.angle*a.MathUtils.degreesToRadians,h=c.x-this.worldX,i=c.y-this.worldY,j=Math.sqrt(h*h+i*i);if(j<this.radius){var k=b.interpolation.apply(0,g,(this.radius-j)/this.radius),l=Math.cos(k),m=Math.sin(k);c.x=l*h-m*i+this.worldX,c.y=m*h+l*i+this.worldY}},b.prototype.end=function(){},b.interpolation=new a.PowOut(2),b}();a.SwirlEffect=b}(spine||(spine={}));var PhaserSpine;!function(a){var b;!function(a){var b;!function(a){a[a.Nearest=9728]="Nearest",a[a.Linear=9729]="Linear",a[a.MipMap=9987]="MipMap",a[a.MipMapNearestNearest=9984]="MipMapNearestNearest",a[a.MipMapLinearNearest=9985]="MipMapLinearNearest",a[a.MipMapNearestLinear=9986]="MipMapNearestLinear",a[a.MipMapLinearLinear=9987]="MipMapLinearLinear"}(b=a.TextureFilter||(a.TextureFilter={}));var c;!function(a){a[a.MirroredRepeat=33648]="MirroredRepeat",a[a.ClampToEdge=33071]="ClampToEdge",a[a.Repeat=10497]="Repeat"}(c=a.TextureWrap||(a.TextureWrap={}));var d=function(a){function c(b,c){void 0===c&&(c=1);var d=a.call(this,b,c)||this;return d.image=b,d}return __extends(c,a),c.prototype.getImage=function(){return this.image},c.prototype.dispose=function(){},c.prototype.setFilters=function(a,c){a==b.Linear?this.scaleMode=1:a==b.Nearest?this.scaleMode=0:(this.mipmap=!0,a==b.MipMapNearestNearest?this.scaleMode=0:this.scaleMode=1)},c.prototype.setWraps=function(a,b){},c}(PIXI.BaseTexture);a.Texture=d}(b=a.webGL||(a.webGL={}))}(PhaserSpine||(PhaserSpine={}));var PhaserSpine;!function(a){var b=function(b){function c(a,c,d,e,f){void 0===f&&(f=!1);var g=b.call(this,a,c,d,"")||this;return g.game=a,g.premultipliedAlpha=f,g.skeleton=g.createSkeleton(e),g.skeleton.flipY=g.game.renderType===Phaser.CANVAS,g.skeleton.setToSetupPose(),g.skeleton.updateWorldTransform(),g.setSpineState(),g}return __extends(c,b),c.prototype.createSkeleton=function(b){var c=this,d=this.game.cache.getText(a.SpinePlugin.ATLAS_PREFIX+"_"+b),e=this.game.cache.getJSON(a.SpinePlugin.SPINE_NAMESPACE+"_"+b),f=new spine.TextureAtlas(d,function(b){return console.log("spineAtlas line ",b),c.game.renderType===Phaser.CANVAS?new a.canvas.Texture(c.game.cache.getImage(b)):new a.webGL.Texture(c.game.cache.getImage(b))}),g=new spine.AtlasAttachmentLoader(f),h=new spine.SkeletonJson(g),i=h.readSkeletonData(e);return new spine.Skeleton(i)},c.prototype.setSpineState=function(){this.stateData=new spine.AnimationStateData(this.skeleton.data),this.state=new spine.AnimationState(this.stateData)},c.prototype.bindEvents=function(){this.onEvent=new Phaser.Signal,this.onComplete=new Phaser.Signal,this.onEnd=new Phaser.Signal,this.onInterrupt=new Phaser.Signal,this.onStart=new Phaser.Signal,this.onDispose=new Phaser.Signal,this.state.addListener({interrupt:this.onInterrupt.dispatch.bind(this.onInterrupt),dispose:this.onDispose.dispatch.bind(this.onDispose),event:this.onEvent.dispatch.bind(this.onEvent),complete:this.onComplete.dispatch.bind(this.onComplete),start:this.onStart.dispatch.bind(this.onStart),end:this.onEnd.dispatch.bind(this.onEnd)})},c.prototype.update=function(){b.prototype.update.call(this),this.state.update(this.game.time.elapsed/1e3),this.state.apply(this.skeleton)},c}(Phaser.Sprite);a.Spine=b}(PhaserSpine||(PhaserSpine={}));var PhaserSpine;!function(a){Phaser.spine=a;var b=function(b){function c(a,c){return b.call(this,a,c)||this}return __extends(c,b),c.prototype.init=function(a){void 0===a&&(a={}),c.DEBUG=a.debugRendering||!1,c.TRIANGLE=a.triangleRendering||!1,this.addSpineCache(),this.addSpineFactory(),this.addSpineLoader()},c.prototype.addSpineCache=function(){Phaser.Cache.prototype.spine={},Phaser.Cache.prototype.addSpine=function(a,b){this.spine[a]=b},Phaser.Cache.prototype.getSpine=function(a){return this.spine.hasOwnProperty(a)||console.warn('Phaser.Cache.getSpine: Key "'+a+'" not found in Cache.'),this.spine[a]}},c.prototype.addSpineFactory=function(){Phaser.GameObjectFactory.prototype.spine=function(b,c,d,e,f,g){void 0===e&&(e=!1),void 0===g&&(g=this.world);var h=new a.Spine(this.game,b,c,d,e);return g.add(h)},Phaser.GameObjectCreator.prototype.spine=function(b,c,d,e,f,g){return void 0===e&&(e=!1),new a.Spine(this.game,b,c,d,e)}},c.prototype.addSpineLoader=function(){function a(a,b){var d=this,e=b.substr(0,b.lastIndexOf(".")),f=b.substr(0,b.lastIndexOf("/"));b.substring(b.lastIndexOf("/")+1,b.lastIndexOf("."));this.text(c.ATLAS_PREFIX+"_"+a,e+".atlas"),this.json(c.SPINE_NAMESPACE+"_"+a,e+".json");var g=[],h=0;this.onFileComplete.add(function(b,e){if(0===e.indexOf(c.ATLAS_PREFIX)){var i=d.game.cache.getText(e),j=null;i.split(/\r\n|\r|\n/).forEach(function(a,b){0!==a.length&&a.indexOf(":")===-1&&(null===j&&(j=a.substr(0,a.lastIndexOf("."))),null!==j&&a.indexOf(j)!==-1&&a.indexOf(".")!==-1&&(g.push(a),d.image(a,f+"/"+a)))})}else g.indexOf(e)!==-1&&h++;g.length&&h===g.length&&(h=0,d.game.cache.addSpine(a,{atlas:c.ATLAS_PREFIX+"_"+a,json:c.SPINE_NAMESPACE+"_"+a,images:g}))})}function b(a,b,d,e){var f=this,g=[],h=0;this.text(c.ATLAS_PREFIX+"_"+a,d),this.json(c.SPINE_NAMESPACE+"_"+a,b),Array.isArray(e)?e.forEach(function(a){var b=a.substring(a.lastIndexOf("/")+1);f.image(b,a),g.push(b)}):(g.push(a),this.image(a,e)),this.onFileComplete.add(function(b,d){g.indexOf(d)!==-1&&h++,g.length&&h===g.length&&(h=0,f.game.cache.addSpine(a,{atlas:c.ATLAS_PREFIX+"_"+a,json:c.SPINE_NAMESPACE+"_"+a,images:g}))})}Phaser.Loader.prototype.spine=function(c,d,e,f){if(e&&f){if(!e||!f)throw new Error("Path to atlas or png is not defined!");b(c,d,e,f)}else a.call(this,c,d)}},c.RESOLUTION_REGEXP=/@(.+)x/,c.SPINE_NAMESPACE="spine",c.ATLAS_PREFIX="atlas_"+c.SPINE_NAMESPACE+"_",c.DEBUG=!1,c.TRIANGLE=!1,c}(Phaser.Plugin);a.SpinePlugin=b}(PhaserSpine||(PhaserSpine={}));